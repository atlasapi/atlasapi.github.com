(function(){function t(t,e){if(t!==e){var n=t===t,r=e===e;if(t>e||!n||"undefined"==typeof t&&r)return 1;if(e>t||!r||"undefined"==typeof e&&n)return-1}return 0}function e(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function n(t,e,n){if(e!==e)return p(t,n);n-=1;for(var r=t.length;++n<r;)if(t[n]===e)return n;return-1}function r(t){return"function"==typeof t||!1}function o(t){return"string"==typeof t?t:null==t?"":t+""}function i(t){return t.charCodeAt(0)}function u(t,e){for(var n=-1,r=t.length;++n<r&&-1<e.indexOf(t.charAt(n)););return n}function a(t,e){for(var n=t.length;n--&&-1<e.indexOf(t.charAt(n)););return n}function l(e,n){return t(e.a,n.a)||e.b-n.b}function s(t){return Lt[t]}function c(t){return Rt[t]}function f(t){return"\\"+Ft[t]}function p(t,e,n){var r=t.length;for(e+=n?0:-1;n?e--:++e<r;){var o=t[e];if(o!==o)return e}return-1}function h(t){return!!t&&"object"==typeof t}function d(t){return 160>=t&&t>=9&&13>=t||32==t||160==t||5760==t||6158==t||t>=8192&&(8202>=t||8232==t||8233==t||8239==t||8287==t||12288==t||65279==t)}function g(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;)t[n]===e&&(t[n]=U,i[++o]=n);return i}function m(t){for(var e=-1,n=t.length;++e<n&&d(t.charCodeAt(e)););return e}function v(t){for(var e=t.length;e--&&d(t.charCodeAt(e)););return e}function _(t){return Jt[t]}function y(d){function Lt(t){if(h(t)&&!(_i(t)||t instanceof Ot)){if(t instanceof Jt)return t;if(Pr.call(t,"__chain__")&&Pr.call(t,"__wrapped__"))return Nn(t)}return new Jt(t)}function Rt(){}function Jt(t,e,n){this.__wrapped__=t,this.__actions__=n||[],this.__chain__=!!e}function Ot(t){this.__wrapped__=t,this.__actions__=null,this.__dir__=1,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=vo,this.__views__=null}function Ft(){this.__data__={}}function Dt(t){var e=t?t.length:0;for(this.data={hash:uo(null),set:new Zr};e--;)this.push(t[e])}function Ut(t,e){var n=t.data;return("string"==typeof e||er(e)?n.set.has(e):n.hash[e])?0:-1}function Pt(t,e){var n=-1,r=t.length;for(e||(e=Sr(r));++n<r;)e[n]=t[n];return e}function Bt(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}function zt(t,e){for(var n=-1,r=t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Wt(t,e){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var u=t[n];e(u,n,t)&&(i[++o]=u)}return i}function Gt(t,e){for(var n=-1,r=t.length,o=Sr(r);++n<r;)o[n]=e(t[n],n,t);return o}function Vt(t){for(var e=-1,n=t.length,r=mo;++e<n;){var o=t[e];o>r&&(r=o)}return r}function Kt(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function Xt(t,e){return"undefined"==typeof t?e:t}function Qt(t,e,n,r){return"undefined"!=typeof t&&Pr.call(r,n)?t:e}function Yt(t,e,n){var r=ji(e);if(!n)return te(e,t,r);for(var o=-1,i=r.length;++o<i;){var u=r[o],a=t[u],l=n(a,e[u],u,t,e);(l===l?l===a:a!==a)&&("undefined"!=typeof a||u in t)||(t[u]=l)}return t}function Zt(t,e){for(var n=-1,r=t.length,o=bn(r),i=e.length,u=Sr(i);++n<i;){var a=e[n];o?(a=parseFloat(a),u[n]=_n(a,r)?t[a]:w):u[n]=t[a]}return u}function te(t,e,n){n||(n=e,e={});for(var r=-1,o=n.length;++r<o;){var i=n[r];e[i]=t[i]}return e}function ee(t,e,n){var r=typeof t;return"function"==r?"undefined"==typeof e?t:Re(t,e,n):null==t?yr:"object"==r?ve(t):"undefined"==typeof e?we(t+""):_e(t+"",e)}function ne(t,e,n,r,o,i,u){var a;if(n&&(a=o?n(t,r,o):n(t)),"undefined"!=typeof a)return a;if(!er(t))return t;if(r=_i(t)){if(a=gn(t),!e)return Pt(t,a)}else{var l=qr.call(t),s=l==z;if(l!=G&&l!=P&&(!s||o))return kt[l]?vn(t,l,e):o?t:{};if(Ht(t))return o?t:{};if(a=mn(s?{}:t),!e)return te(t,a,ji(t))}for(i||(i=[]),u||(u=[]),o=i.length;o--;)if(i[o]==t)return u[o];return i.push(t),u.push(a),(r?Bt:ce)(t,function(r,o){a[o]=ne(r,e,n,o,t,i,u)}),a}function re(t,e,n){if("function"!=typeof t)throw new Cr(D);return to(function(){t.apply(w,n)},e)}function oe(t,e){var r=t?t.length:0,o=[];if(!r)return o;var i=-1,u=dn(),a=u==n,l=a&&200<=e.length?Ro(e):null,s=e.length;l&&(u=Ut,a=!1,e=l);t:for(;++i<r;)if(l=t[i],a&&l===l){for(var c=s;c--;)if(e[c]===l)continue t;o.push(l)}else 0>u(e,l,0)&&o.push(l);return o}function ie(t,e){var n=!0;return No(t,function(t,r,o){return n=!!e(t,r,o)}),n}function ue(t,e){var n=[];return No(t,function(t,r,o){e(t,r,o)&&n.push(t)}),n}function ae(t,e,n,r){var o;return n(t,function(t,n,i){return e(t,n,i)?(o=r?n:t,!1):void 0}),o}function le(t,e,n){for(var r=-1,o=t.length,i=-1,u=[];++r<o;){var a=t[r];if(h(a)&&bn(a.length)&&(_i(a)||Yn(a))){e&&(a=le(a,e,n));var l=-1,s=a.length;for(u.length+=s;++l<s;)u[++i]=a[l]}else n||(u[++i]=a)}return u}function se(t,e){ko(t,e,sr)}function ce(t,e){return ko(t,e,ji)}function fe(t,e){return Co(t,e,ji)}function pe(t,e){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var u=e[n];wi(t[u])&&(i[++o]=u)}return i}function he(t,e,n,r,o,i){if(t===e)return 0!==t||1/t==1/e;var u=typeof t,a=typeof e;return"function"!=u&&"object"!=u&&"function"!=a&&"object"!=a||null==t||null==e?t!==t&&e!==e:de(t,e,he,n,r,o,i)}function de(t,e,n,r,o,i,u){var a=_i(t),l=_i(e),s=B,c=B;a||(s=qr.call(t),s==P?s=G:s!=G&&(a=ur(t))),l||(c=qr.call(e),c==P?c=G:c!=G&&ur(e));var f=(s==G||o&&s==z)&&!Ht(t),l=(c==G||o&&c==z)&&!Ht(e);if((c=s==c)&&!a&&!f)return cn(t,e,s);if(o){if(!(c||f&&l))return!1}else{if(s=f&&Pr.call(t,"__wrapped__"),l=l&&Pr.call(e,"__wrapped__"),s||l)return n(s?t.value():t,l?e.value():e,r,o,i,u);if(!c)return!1}for(i||(i=[]),u||(u=[]),s=i.length;s--;)if(i[s]==t)return u[s]==e;return i.push(t),u.push(e),t=(a?sn:fn)(t,e,n,r,o,i,u),i.pop(),u.pop(),t}function ge(t,e,n,r,o){for(var i=-1,u=e.length,a=!o;++i<u;)if(a&&r[i]?n[i]!==t[e[i]]:!(e[i]in t))return!1;for(i=-1;++i<u;){var l=e[i],s=t[l],c=n[i];if(a&&r[i]?l="undefined"!=typeof s||l in t:(l=o?o(s,c,l):w,"undefined"==typeof l&&(l=he(c,s,o,!0))),!l)return!1}return!0}function me(t,e){var n=[];return No(t,function(t,r,o){n.push(e(t,r,o))}),n}function ve(t){var e=ji(t),n=e.length;if(!n)return _r(!0);if(1==n){var r=e[0],o=t[r];if(xn(o))return function(t){return null!=t&&t[r]===o&&("undefined"!=typeof o||r in Tn(t))}}for(var i=Sr(n),u=Sr(n);n--;)o=t[e[n]],i[n]=o,u[n]=xn(o);return function(t){return null!=t&&ge(Tn(t),e,i,u)}}function _e(t,e){return xn(e)?function(n){return null!=n&&n[t]===e&&("undefined"!=typeof e||t in Tn(n))}:function(n){return null!=n&&he(e,n[t],null,!0)}}function ye(t,e,n,r,o){if(!er(t))return t;var i=bn(e.length)&&(_i(e)||ur(e));return(i?Bt:ce)(e,function(e,u,a){if(h(e)){r||(r=[]),o||(o=[]);t:{e=r;for(var l=o,s=e.length,c=a[u];s--;)if(e[s]==c){t[u]=l[s],u=void 0;break t}s=t[u],a=n?n(s,c,u,t,a):w;var f="undefined"==typeof a;f&&(a=c,bn(c.length)&&(_i(c)||ur(c))?a=_i(s)?s:s&&s.length?Pt(s):[]:bi(c)||Yn(c)?a=Yn(s)?ar(s):bi(s)?s:{}:f=!1),e.push(c),l.push(a),f?t[u]=ye(a,c,n,e,l):(a===a?a!==s:s===s)&&(t[u]=a),u=void 0}return u}l=t[u],a=n?n(l,e,u,t,a):w,(c="undefined"==typeof a)&&(a=e),!i&&"undefined"==typeof a||!c&&(a===a?a===l:l!==l)||(t[u]=a)}),t}function we(t){return function(e){return null==e?w:e[t]}}function be(t,e){return t+Kr(go()*(e-t+1))}function xe(t,e,n,r,o){return o(t,function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)}),n}function Se(t,e,n){var r=-1,o=t.length;for(e=null==e?0:+e||0,0>e&&(e=-e>o?0:o+e),n="undefined"==typeof n||n>o?o:+n||0,0>n&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0,n=Sr(o);++r<o;)n[r]=t[r+e];return n}function Ee(t,e){var n;return No(t,function(t,r,o){return n=e(t,r,o),!n}),!!n}function Ae(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function $e(e,n,r){var o=-1,i=e.length,u=bn(i)?Sr(i):[];return No(e,function(t){for(var e=n.length,r=Sr(e);e--;)r[e]=null==t?w:t[n[e]];u[++o]={a:r,b:o,c:t}}),Ae(u,function(e,n){var o;t:{o=-1;for(var i=e.a,u=n.a,a=i.length,l=r.length;++o<a;){var s=t(i[o],u[o]);if(s){o=l>o?s*(r[o]?1:-1):s;break t}}o=e.b-n.b}return o})}function Ie(t,e){var n=0;return No(t,function(t,r,o){n+=+e(t,r,o)||0}),n}function Te(t,e){var r=-1,o=dn(),i=t.length,u=o==n,a=u&&i>=200,l=a?Ro():null,s=[];l?(o=Ut,u=!1):(a=!1,l=e?[]:s);t:for(;++r<i;){var c=t[r],f=e?e(c,r,t):c;if(u&&c===c){for(var p=l.length;p--;)if(l[p]===f)continue t;e&&l.push(f),s.push(c)}else 0>o(l,f,0)&&((e||a)&&l.push(f),s.push(c))}return s}function Ne(t,e){for(var n=-1,r=e.length,o=Sr(r);++n<r;)o[n]=t[e[n]];return o}function je(t,e,n,r){for(var o=t.length,i=r?o:-1;(r?i--:++i<o)&&e(t[i],i,t););return n?Se(t,r?0:i,r?i+1:o):Se(t,r?i+1:0,r?o:i)}function ke(t,e){var n=t;n instanceof Ot&&(n=n.value());for(var r=-1,o=e.length;++r<o;){var n=[n],i=e[r];Qr.apply(n,i.args),n=i.func.apply(i.thisArg,n)}return n}function Ce(t,e,n){var r=0,o=t?t.length:r;if("number"==typeof e&&e===e&&wo>=o){for(;o>r;){var i=r+o>>>1,u=t[i];(n?e>=u:e>u)?r=i+1:o=i}return o}return Le(t,e,yr,n)}function Le(t,e,n,r){e=n(e);for(var o=0,i=t?t.length:0,u=e!==e,a="undefined"==typeof e;i>o;){var l=Kr((o+i)/2),s=n(t[l]),c=s===s;(u?c||r:a?c&&(r||"undefined"!=typeof s):r?e>=s:e>s)?o=l+1:i=l}return co(i,yo)}function Re(t,e,n){if("function"!=typeof t)return yr;if("undefined"==typeof e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,u){return t.call(e,n,r,o,i,u)}}return function(){return t.apply(e,arguments)}}function Je(t){return Wr.call(t,0)}function Oe(t,e,n){for(var r=n.length,o=-1,i=so(t.length-r,0),u=-1,a=e.length,l=Sr(i+a);++u<a;)l[u]=e[u];for(;++o<r;)l[n[o]]=t[o];for(;i--;)l[u++]=t[o++];return l}function Fe(t,e,n){for(var r=-1,o=n.length,i=-1,u=so(t.length-o,0),a=-1,l=e.length,s=Sr(u+l);++i<u;)s[i]=t[i];for(u=i;++a<l;)s[u+a]=e[a];for(;++r<o;)s[u+n[r]]=t[i++];return s}function De(t,e){return function(n,r,o){var i=e?e():{};if(r=hn(r,o,3),_i(n)){o=-1;for(var u=n.length;++o<u;){var a=n[o];t(i,a,r(a,o,n),n)}}else No(n,function(e,n,o){t(i,e,r(e,n,o),o)});return i}}function Ue(t){return function(){var e=arguments,n=e.length,r=e[0];if(2>n||null==r)return r;var o=e[n-2],i=e[n-1],u=e[3];for(n>3&&"function"==typeof o?(o=Re(o,i,5),n-=2):(o=n>2&&"function"==typeof i?i:null,n-=o?1:0),u&&yn(e[1],e[2],u)&&(o=3==n?null:o,n=2),i=0;++i<n;)(u=e[i])&&t(r,u,o);return r}}function Pe(t,e){return function(n,r){var o=n?n.length:0;if(!bn(o))return t(n,r);for(var i=e?o:-1,u=Tn(n);(e?i--:++i<o)&&!1!==r(u[i],i,u););return n}}function Be(t){return function(e,n,r){var o=Tn(e);r=r(e);for(var i=r.length,u=t?i:-1;t?u--:++u<i;){var a=r[u];if(!1===n(o[a],a,o))break}return e}}function qe(t,e){function n(){return(this&&this!==qt&&this instanceof n?r:t).apply(e,arguments)}var r=Me(t);return n}function He(t){return function(e){var n=-1;e=mr(fr(e));for(var r=e.length,o="";++n<r;)o=t(o,e[n],n);return o}}function Me(t){return function(){var e=To(t.prototype),n=t.apply(e,arguments);return er(n)?n:e}}function ze(t){function e(n,r,o){return o&&yn(n,r,o)&&(r=null),n=ln(n,t,null,null,null,null,null,r),n.placeholder=e.placeholder,n}return e}function We(t,e){return function(n,r,o){o&&yn(n,r,o)&&(r=null);var u=hn(),a=null==r;if(u===ee&&a||(a=!1,r=u(r,o,3)),a){if(r=_i(n),r||!ir(n))return t(r?n:In(n));r=i}return pn(n,r,e)}}function Ge(t,n){return function(r,o,i){return o=hn(o,i,3),_i(r)?(o=e(r,o,n),o>-1?r[o]:w):ae(r,o,t)}}function Ve(t){return function(n,r,o){return n&&n.length?(r=hn(r,o,3),e(n,r,t)):-1}}function Ke(t){return function(e,n,r){return n=hn(n,r,3),ae(e,n,t,!0)}}function Xe(t){return function(){var e=arguments.length;if(!e)return function(){return arguments[0]};for(var n,r=t?e:-1,o=0,i=Sr(e);t?r--:++r<e;){var u=i[o++]=arguments[r];if("function"!=typeof u)throw new Cr(D);var a=n?"":Oo(u);n="wrapper"==a?new Jt([]):n}for(r=n?-1:e;++r<e;)u=i[r],a=Oo(u),n=(o="wrapper"==a?Jo(u):null)&&wn(o[0])?n[Oo(o[0])].apply(n,o[3]):1==u.length&&wn(u)?n[a]():n.thru(u);return function(){var t=arguments;if(n&&1==t.length&&_i(t[0]))return n.plant(t[0]).value();for(var r=0,t=i[r].apply(this,t);++r<e;)t=i[r].call(this,t);return t}}}function Qe(t,e){return function(n,r,o){return"function"==typeof r&&"undefined"==typeof o&&_i(n)?t(n,r):e(n,Re(r,o,3))}}function Ye(t){return function(e,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Re(n,r,3)),t(e,n,sr)}}function Ze(t){return function(e,n,r){return("function"!=typeof n||"undefined"!=typeof r)&&(n=Re(n,r,3)),t(e,n)}}function tn(t){return function(e,n,r){return(e=o(e))&&(t?e:"")+on(e,n,r)+(t?"":e)}}function en(t){var e=Qn(function(n,r){var o=g(r,e.placeholder);return ln(n,t,null,r,o)});return e}function nn(t,e){return function(n,r,o,i){var u=3>arguments.length;return"function"==typeof r&&"undefined"==typeof i&&_i(n)?t(n,r,o,u):xe(n,hn(r,i,4),o,u,e)}}function rn(t,e,n,r,o,i,u,a,l,s){function c(){for(var b=arguments.length,E=b,A=Sr(b);E--;)A[E]=arguments[E];if(r&&(A=Oe(A,r,o)),i&&(A=Fe(A,i,u)),d||v){var E=c.placeholder,$=g(A,E),b=b-$.length;if(s>b){var N=a?Pt(a):null,b=so(s-b,0),j=d?$:null,$=d?null:$,k=d?A:null,A=d?null:A;return e|=d?I:T,e&=~(d?T:I),m||(e&=~(x|S)),A=[t,e,n,k,j,A,$,N,l,b],N=rn.apply(w,A),wn(t)&&Fo(N,A),N.placeholder=E,N}}if(E=p?n:this,h&&(t=E[y]),a)for(N=A.length,b=co(a.length,N),j=Pt(A);b--;)$=a[b],A[b]=_n($,N)?j[$]:w;return f&&l<A.length&&(A.length=l),(this&&this!==qt&&this instanceof c?_||Me(t):t).apply(E,A)}var f=e&N,p=e&x,h=e&S,d=e&A,m=e&E,v=e&$,_=!h&&Me(t),y=t;return c}function on(t,e,n){return t=t.length,e=+e,e>t&&ao(e)?(e-=t,n=null==n?" ":n+"",dr(n,Gr(e/n.length)).slice(0,e)):""}function un(t,e,n,r){function o(){for(var e=-1,a=arguments.length,l=-1,s=r.length,c=Sr(a+s);++l<s;)c[l]=r[l];for(;a--;)c[l++]=arguments[++e];return(this&&this!==qt&&this instanceof o?u:t).apply(i?n:this,c)}var i=e&x,u=Me(t);return o}function an(t){return function(e,n,r,o){var i=hn(r);return i===ee&&null==r?Ce(e,n,t):Le(e,n,i(r,o,1),t)}}function ln(t,e,n,r,o,i,u,a){var l=e&S;if(!l&&"function"!=typeof t)throw new Cr(D);var s=r?r.length:0;if(s||(e&=~(I|T),r=o=null),s-=o?o.length:0,e&T){var c=r,f=o;r=o=null}var p=l?null:Jo(t);return n=[t,e,n,r,o,c,f,i,u,a],p&&(r=n[1],e=p[1],a=r|e,o=e==N&&r==A||e==N&&r==j&&n[7].length<=p[8]||e==(N|j)&&r==A,(N>a||o)&&(e&x&&(n[2]=p[2],a|=r&x?0:E),(r=p[3])&&(o=n[3],n[3]=o?Oe(o,r,p[4]):Pt(r),n[4]=o?g(n[3],U):Pt(p[4])),(r=p[5])&&(o=n[5],n[5]=o?Fe(o,r,p[6]):Pt(r),n[6]=o?g(n[5],U):Pt(p[6])),(r=p[7])&&(n[7]=Pt(r)),e&N&&(n[8]=null==n[8]?p[8]:co(n[8],p[8])),null==n[9]&&(n[9]=p[9]),n[0]=p[0],n[1]=a),e=n[1],a=n[9]),n[9]=null==a?l?0:t.length:so(a-s,0)||0,(p?Lo:Fo)(e==x?qe(n[0],n[2]):e!=I&&e!=(x|I)||n[4].length?rn.apply(w,n):un.apply(w,n),n)}function sn(t,e,n,r,o,i,u){var a=-1,l=t.length,s=e.length,c=!0;if(l!=s&&(!o||l>=s))return!1;for(;c&&++a<l;){var f=t[a],p=e[a],c=w;if(r&&(c=o?r(p,f,a):r(f,p,a)),"undefined"==typeof c)if(o)for(var h=s;h--&&(p=e[h],!(c=f&&f===p||n(f,p,r,o,i,u))););else c=f&&f===p||n(f,p,r,o,i,u)}return!!c}function cn(t,e,n){switch(n){case q:case H:return+t==+e;case M:return t.name==e.name&&t.message==e.message;case W:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case V:case K:return t==e+""}return!1}function fn(t,e,n,r,o,i,u){var a=ji(t),l=a.length,s=ji(e).length;if(l!=s&&!o)return!1;for(var s=o,c=-1;++c<l;){var f=a[c],p=o?f in e:Pr.call(e,f);if(p){var h=t[f],d=e[f],p=w;r&&(p=o?r(d,h,f):r(h,d,f)),"undefined"==typeof p&&(p=h&&h===d||n(h,d,r,o,i,u))}if(!p)return!1;s||(s="constructor"==f)}return s||(n=t.constructor,r=e.constructor,!(n!=r&&"constructor"in t&&"constructor"in e)||"function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)?!0:!1}function pn(t,e,n){var r=n?vo:mo,o=r,i=o;return No(t,function(t,u,a){u=e(t,u,a),((n?o>u:u>o)||u===r&&u===i)&&(o=u,i=t)}),i}function hn(t,e,n){var r=Lt.callback||vr,r=r===vr?ee:r;return n?r(t,e,n):r}function dn(t,e,r){var o=Lt.indexOf||Ln,o=o===Ln?n:o;return t?o(t,e,r):o}function gn(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Pr.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function mn(t){return t=t.constructor,"function"==typeof t&&t instanceof t||(t=Nr),new t}function vn(t,e,n){var r=t.constructor;switch(e){case X:return Je(t);case q:case H:return new r(+t);case Q:case Y:case Z:case tt:case et:case nt:case rt:case ot:case it:return r instanceof r&&(r=Ao[e]),e=t.buffer,new r(n?Je(e):e,t.byteOffset,t.length);case W:case K:return new r(t);case V:var o=new r(t.source,_t.exec(t));o.lastIndex=t.lastIndex}return o}function _n(t,e){return t=+t,e=null==e?xo:e,t>-1&&0==t%1&&e>t}function yn(t,e,n){if(!er(n))return!1;var r=typeof e;return"number"==r?(r=n.length,r=bn(r)&&_n(e,r)):r="string"==r&&e in n,r?(e=n[e],t===t?t===e:e!==e):!1}function wn(t){var e=Oo(t);return!!e&&t===Lt[e]&&e in Ot.prototype}function bn(t){return"number"==typeof t&&t>-1&&0==t%1&&xo>=t}function xn(t){return t===t&&(0===t?1/t>0:!er(t))}function Sn(t,e){t=Tn(t);for(var n=-1,r=e.length,o={};++n<r;){var i=e[n];i in t&&(o[i]=t[i])}return o}function En(t,e){var n={};return se(t,function(t,r,o){e(t,r,o)&&(n[r]=t)}),n}function An(t){var e,n=Lt.support;if(!h(t)||qr.call(t)!=G||Ht(t)||!(Pr.call(t,"constructor")||(e=t.constructor,"function"!=typeof e||e instanceof e))||!n.argsTag&&Yn(t))return!1;var r;return n.ownLast?(se(t,function(t,e,n){return r=Pr.call(n,e),!1}),!1!==r):(se(t,function(t,e){r=e}),"undefined"==typeof r||Pr.call(t,r))}function $n(t){for(var e=sr(t),n=e.length,r=n&&t.length,o=Lt.support,o=r&&bn(r)&&(_i(t)||o.nonEnumStrings&&ir(t)||o.nonEnumArgs&&Yn(t)),i=-1,u=[];++i<n;){var a=e[i];(o&&_n(a,r)||Pr.call(t,a))&&u.push(a)}return u}function In(t){return null==t?[]:bn(t.length)?Lt.support.unindexedChars&&ir(t)?t.split(""):er(t)?t:Nr(t):cr(t)}function Tn(t){if(Lt.support.unindexedChars&&ir(t)){for(var e=-1,n=t.length,r=Nr(t);++e<n;)r[e]=t.charAt(e);return r}return er(t)?t:Nr(t)}function Nn(t){return t instanceof Ot?t.clone():new Jt(t.__wrapped__,t.__chain__,Pt(t.__actions__))}function jn(t,e,n){return t&&t.length?((n?yn(t,e,n):null==e)&&(e=1),Se(t,0>e?0:e)):[]}function kn(t,e,n){var r=t?t.length:0;return r?((n?yn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Se(t,0,0>e?0:e)):[]}function Cn(t){return t?t[0]:w}function Ln(t,e,r){var o=t?t.length:0;if(!o)return-1;if("number"==typeof r)r=0>r?so(o+r,0):r;else if(r)return r=Ce(t,e),t=t[r],(e===e?e===t:t!==t)?r:-1;return n(t,e,r||0)}function Rn(t){var e=t?t.length:0;return e?t[e-1]:w}function Jn(t){return jn(t,1)}function On(t,e,r,o){if(!t||!t.length)return[];null!=e&&"boolean"!=typeof e&&(o=r,r=yn(t,e,o)?null:e,e=!1);var i=hn();if((i!==ee||null!=r)&&(r=i(r,o,3)),e&&dn()==n){e=r;var u;r=-1,o=t.length;for(var i=-1,a=[];++r<o;){var l=t[r],s=e?e(l,r,t):l;r&&u===s||(u=s,a[++i]=l)}t=a}else t=Te(t,r);return t}function Fn(t){for(var e=-1,n=(t&&t.length&&Vt(Gt(t,Ur)))>>>0,r=Sr(n);++e<n;)r[e]=Gt(t,we(e));return r}function Dn(t,e){var n=-1,r=t?t.length:0,o={};for(!r||e||_i(t[0])||(e=[]);++n<r;){var i=t[n];e?o[i]=e[n]:i&&(o[i[0]]=i[1])}return o}function Un(t){return t=Lt(t),t.__chain__=!0,t}function Pn(t,e,n){return e.call(n,t)}function Bn(t,e,n){var r=_i(t)?zt:ie;return n&&yn(t,e,n)&&(e=null),("function"!=typeof e||"undefined"!=typeof n)&&(e=hn(e,n,3)),r(t,e)}function qn(t,e,n){var r=_i(t)?Wt:ue;return e=hn(e,n,3),r(t,e)}function Hn(t,e,n,r){var o=t?t.length:0;return bn(o)||(t=cr(t),o=t.length),o?(n="number"!=typeof n||r&&yn(e,n,r)?0:0>n?so(o+n,0):n||0,"string"==typeof t||!_i(t)&&ir(t)?o>n&&-1<t.indexOf(e,n):-1<dn(t,e,n)):!1}function Mn(t,e,n){var r=_i(t)?Gt:me;return e=hn(e,n,3),r(t,e)}function zn(t,e,n){return(n?yn(t,e,n):null==e)?(t=In(t),e=t.length,e>0?t[be(0,e-1)]:w):(t=Wn(t),t.length=co(0>e?0:+e||0,t.length),t)}function Wn(t){t=In(t);for(var e=-1,n=t.length,r=Sr(n);++e<n;){var o=be(0,e);e!=o&&(r[e]=r[o]),r[o]=t[e]}return r}function Gn(t,e,n){var r=_i(t)?Kt:Ee;return n&&yn(t,e,n)&&(e=null),("function"!=typeof e||"undefined"!=typeof n)&&(e=hn(e,n,3)),r(t,e)}function Vn(t,e){var n;if("function"!=typeof e){if("function"!=typeof t)throw new Cr(D);var r=t;t=e,e=r}return function(){return 0<--t?n=e.apply(this,arguments):e=null,n}}function Kn(t,e,n){function r(){var n=e-(ii()-s);0>=n||n>e?(a&&Vr(a),n=p,a=f=p=w,n&&(h=ii(),l=t.apply(c,u),f||a||(u=c=null))):f=to(r,n)}function o(){f&&Vr(f),a=f=p=w,(g||d!==e)&&(h=ii(),l=t.apply(c,u),f||a||(u=c=null))}function i(){if(u=arguments,s=ii(),c=this,p=g&&(f||!m),!1===d)var n=m&&!f;else{a||m||(h=s);var i=d-(s-h),v=0>=i||i>d;v?(a&&(a=Vr(a)),h=s,l=t.apply(c,u)):a||(a=to(o,i))}return v&&f?f=Vr(f):f||e===d||(f=to(r,e)),n&&(v=!0,l=t.apply(c,u)),!v||f||a||(u=c=null),l}var u,a,l,s,c,f,p,h=0,d=!1,g=!0;if("function"!=typeof t)throw new Cr(D);if(e=0>e?0:+e||0,!0===n)var m=!0,g=!1;else er(n)&&(m=n.leading,d="maxWait"in n&&so(+n.maxWait||0,e),g="trailing"in n?n.trailing:g);return i.cancel=function(){f&&Vr(f),a&&Vr(a),a=f=p=w},i}function Xn(t,e){function n(){var r=arguments,o=n.cache,i=e?e.apply(this,r):r[0];return o.has(i)?o.get(i):(r=t.apply(this,r),o.set(i,r),r)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Cr(D);return n.cache=new Xn.Cache,n}function Qn(t,e){if("function"!=typeof t)throw new Cr(D);return e=so("undefined"==typeof e?t.length-1:+e||0,0),function(){for(var n=arguments,r=-1,o=so(n.length-e,0),i=Sr(o);++r<o;)i[r]=n[e+r];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,n[0],i);case 2:return t.call(this,n[0],n[1],i)}for(o=Sr(e+1),r=-1;++r<e;)o[r]=n[r];return o[e]=i,t.apply(this,o)}}function Yn(t){return bn(h(t)?t.length:w)&&qr.call(t)==P}function Zn(t){return!!t&&1===t.nodeType&&h(t)&&(Lt.support.nodeTag?-1<qr.call(t).indexOf("Element"):Ht(t))}function tr(t){return h(t)&&"string"==typeof t.message&&qr.call(t)==M}function er(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function nr(t){return null==t?!1:qr.call(t)==z?Mr.test(Dr.call(t)):h(t)&&(Ht(t)?Mr:wt).test(t)}function rr(t){return"number"==typeof t||h(t)&&qr.call(t)==W}function or(t){return er(t)&&qr.call(t)==V}function ir(t){return"string"==typeof t||h(t)&&qr.call(t)==K}function ur(t){return h(t)&&bn(t.length)&&!!jt[qr.call(t)]}function ar(t){return te(t,sr(t))}function lr(t){return pe(t,sr(t))}function sr(t){if(null==t)return[];er(t)||(t=Nr(t));for(var e=t.length,n=Lt.support,e=e&&bn(e)&&(_i(t)||n.nonEnumStrings&&ir(t)||n.nonEnumArgs&&Yn(t))&&e||0,r=t.constructor,o=-1,r=wi(r)&&r.prototype||Jr,i=r===t,u=Sr(e),a=e>0,l=n.enumErrorProps&&(t===Rr||t instanceof Ar),s=n.enumPrototypes&&wi(t);++o<e;)u[o]=o+"";for(var c in t)s&&"prototype"==c||l&&("message"==c||"name"==c)||a&&_n(c,e)||"constructor"==c&&(i||!Pr.call(t,c))||u.push(c);if(n.nonEnumShadows&&t!==Jr)for(e=t===Or?K:t===Rr?M:qr.call(t),n=$o[e]||$o[G],e==G&&(r=Jr),e=Nt.length;e--;)c=Nt[e],o=n[c],i&&o||(o?!Pr.call(t,c):t[c]===r[c])||u.push(c);return u}function cr(t){return Ne(t,ji(t))}function fr(t){return(t=o(t))&&t.replace(bt,s).replace(mt,"")}function pr(t){return(t=o(t))&&Et.test(t)?t.replace(St,"\\$&"):t}function hr(t,e,n){return n&&yn(t,e,n)&&(e=0),ho(t,e)}function dr(t,e){var n="";if(t=o(t),e=+e,1>e||!t||!ao(e))return n;do e%2&&(n+=t),e=Kr(e/2),t+=t;while(e);return n}function gr(t,e,n){var r=t;return(t=o(t))?(n?yn(r,e,n):null==e)?t.slice(m(t),v(t)+1):(e+="",t.slice(u(t,e),a(t,e)+1)):t}function mr(t,e,n){return n&&yn(t,e,n)&&(e=null),t=o(t),t.match(e||$t)||[]}function vr(t,e,n){return n&&yn(t,e,n)&&(e=null),h(t)?wr(t):ee(t,e)}function _r(t){return function(){return t}}function yr(t){return t}function wr(t){return ve(ne(t,!0))}function br(t,e,n){if(null==n){var r=er(e),o=r&&ji(e);((o=o&&o.length&&pe(e,o))?o.length:r)||(o=!1,n=e,e=t,t=this)}o||(o=pe(e,ji(e)));var i=!0,r=-1,u=wi(t),a=o.length;!1===n?i=!1:er(n)&&"chain"in n&&(i=n.chain);for(;++r<a;){n=o[r];var l=e[n];t[n]=l,u&&(t.prototype[n]=function(e){return function(){var n=this.__chain__;if(i||n){var r=t(this.__wrapped__);return(r.__actions__=Pt(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return n=[this.value()],Qr.apply(n,arguments),e.apply(t,n)}}(l))}return t}function xr(){}d=d?Mt.defaults(qt.Object(),d,Mt.pick(qt,Tt)):qt;var Sr=d.Array,Er=d.Date,Ar=d.Error,$r=d.Function,Ir=d.Math,Tr=d.Number,Nr=d.Object,jr=d.RegExp,kr=d.String,Cr=d.TypeError,Lr=Sr.prototype,Rr=Ar.prototype,Jr=Nr.prototype,Or=kr.prototype,Fr=(Fr=d.window)&&Fr.document,Dr=$r.prototype.toString,Ur=we("length"),Pr=Jr.hasOwnProperty,Br=0,qr=Jr.toString,Hr=d._,Mr=jr("^"+pr(qr).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zr=nr(zr=d.ArrayBuffer)&&zr,Wr=nr(Wr=zr&&new zr(0).slice)&&Wr,Gr=Ir.ceil,Vr=d.clearTimeout,Kr=Ir.floor,Xr=nr(Xr=Nr.getPrototypeOf)&&Xr,Qr=Lr.push,Yr=Jr.propertyIsEnumerable,Zr=nr(Zr=d.Set)&&Zr,to=d.setTimeout,eo=Lr.splice,no=nr(no=d.Uint8Array)&&no,ro=nr(ro=d.WeakMap)&&ro,oo=function(){try{var t=nr(t=d.Float64Array)&&t,e=new t(new zr(10),0,1)&&t}catch(n){}return e}(),io=nr(io=Sr.isArray)&&io,uo=nr(uo=Nr.create)&&uo,ao=d.isFinite,lo=nr(lo=Nr.keys)&&lo,so=Ir.max,co=Ir.min,fo=nr(fo=Er.now)&&fo,po=nr(po=Tr.isFinite)&&po,ho=d.parseInt,go=Ir.random,mo=Tr.NEGATIVE_INFINITY,vo=Tr.POSITIVE_INFINITY,_o=Ir.pow(2,32)-1,yo=_o-1,wo=_o>>>1,bo=oo?oo.BYTES_PER_ELEMENT:0,xo=Ir.pow(2,53)-1,So=ro&&new ro,Eo={},Ao={};Ao[Q]=d.Float32Array,Ao[Y]=d.Float64Array,Ao[Z]=d.Int8Array,Ao[tt]=d.Int16Array,Ao[et]=d.Int32Array,Ao[nt]=d.Uint8Array,Ao[rt]=d.Uint8ClampedArray,Ao[ot]=d.Uint16Array,Ao[it]=d.Uint32Array;var $o={};$o[B]=$o[H]=$o[W]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},$o[q]=$o[K]={constructor:!0,toString:!0,valueOf:!0},$o[M]=$o[z]=$o[V]={constructor:!0,toString:!0},$o[G]={constructor:!0},Bt(Nt,function(t){for(var e in $o)if(Pr.call($o,e)){var n=$o[e];n[t]=Pr.call(n,t)}});var Io=Lt.support={};!function(t){function e(){this.x=1}var n={0:1,length:1},r=[];e.prototype={valueOf:1,y:1};for(var o in new e)r.push(o);Io.argsTag=qr.call(arguments)==P,Io.enumErrorProps=Yr.call(Rr,"message")||Yr.call(Rr,"name"),Io.enumPrototypes=Yr.call(e,"prototype"),Io.funcDecomp=/\bthis\b/.test(function(){return this}),Io.funcNames="string"==typeof $r.name,Io.nodeTag=qr.call(Fr)!=G,Io.nonEnumStrings=!Yr.call("x",0),Io.nonEnumShadows=!/valueOf/.test(r),Io.ownLast="x"!=r[0],Io.spliceObjects=(eo.call(n,0,1),!n[0]),Io.unindexedChars="xx"!="x"[0]+Nr("x")[0];try{Io.dom=11===Fr.createDocumentFragment().nodeType}catch(i){Io.dom=!1}try{Io.nonEnumArgs=!Yr.call(arguments,1)}catch(u){Io.nonEnumArgs=!0}}(0,0),Lt.templateSettings={escape:ht,evaluate:dt,interpolate:gt,variable:"",imports:{_:Lt}};var To=function(){function t(){}return function(e){if(er(e)){t.prototype=e;var n=new t;t.prototype=null}return n||d.Object()}}(),No=Pe(ce),jo=Pe(fe,!0),ko=Be(),Co=Be(!0),Lo=So?function(t,e){return So.set(t,e),t}:yr;Wr||(Je=zr&&no?function(t){var e=t.byteLength,n=oo?Kr(e/bo):0,r=n*bo,o=new zr(e);if(n){var i=new oo(o,0,n);i.set(new oo(t,0,n))}return e!=r&&(i=new no(o,r),i.set(new no(t,r))),o}:_r(null));var Ro=uo&&Zr?function(t){return new Dt(t)}:_r(null),Jo=So?function(t){return So.get(t)}:xr,Oo=function(){return Io.funcNames?"constant"==_r.name?we("name"):function(t){for(var e=t.name,n=Eo[e],r=n?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==t)return o.name}return e}:_r("")}(),Fo=function(){var t=0,e=0;return function(n,r){var o=ii(),i=R-(o-e);if(e=o,i>0){if(++t>=L)return n}else t=0;return Lo(n,r)}}(),Do=Qn(function(t,e){return _i(t)||Yn(t)?oe(t,le(e,!1,!0)):[]}),Uo=Ve(),Po=Ve(!0),Bo=Qn(function(e,n){e||(e=[]),n=le(n);var r=n.length,o=Zt(e,n);for(n.sort(t);r--;){var i=parseFloat(n[r]);if(i!=u&&_n(i)){var u=i;eo.call(e,i,1)}}return o}),qo=an(),Ho=an(!0),Mo=Qn(function(t){return Te(le(t,!1,!0))}),zo=Qn(function(t,e){return _i(t)||Yn(t)?oe(t,e):[]}),Wo=Qn(Fn),Go=Qn(function(t,e){return bn(t?t.length:0)&&(t=In(t)),Zt(t,le(e))}),Vo=De(function(t,e,n){Pr.call(t,n)?++t[n]:t[n]=1}),Ko=Ge(No),Xo=Ge(jo,!0),Qo=Qe(Bt,No),Yo=Qe(function(t,e){for(var n=t.length;n--&&!1!==e(t[n],n,t););return t},jo),Zo=De(function(t,e,n){Pr.call(t,n)?t[n].push(e):t[n]=[e]}),ti=De(function(t,e,n){t[n]=e}),ei=Qn(function(t,e,n){var r=-1,o="function"==typeof e,i=t?t.length:0,u=bn(i)?Sr(i):[];return No(t,function(t){var i=o?e:null!=t&&t[e];u[++r]=i?i.apply(t,n):w}),u}),ni=De(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),ri=nn(function(t,e,n,r){var o=-1,i=t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n},No),oi=nn(function(t,e,n,r){var o=t.length;for(r&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n},jo),ii=fo||function(){return(new Er).getTime()},ui=Qn(function(t,e,n){var r=x;if(n.length)var o=g(n,ui.placeholder),r=r|I;return ln(t,r,e,n,o)}),ai=Qn(function(t,e){e=e.length?le(e):lr(t);for(var n=-1,r=e.length;++n<r;){var o=e[n];t[o]=ln(t[o],x,t)}return t}),li=Qn(function(t,e,n){var r=x|S;if(n.length)var o=g(n,li.placeholder),r=r|I;return ln(e,r,t,n,o)}),si=ze(A),ci=ze($),fi=Qn(function(t,e){return re(t,1,e)}),pi=Qn(function(t,e,n){return re(t,e,n)}),hi=Xe(),di=Xe(!0),gi=en(I),mi=en(T),vi=Qn(function(t,e){return ln(t,j,null,null,null,le(e))});Io.argsTag||(Yn=function(t){return bn(h(t)?t.length:w)&&Pr.call(t,"callee")&&!Yr.call(t,"callee")});var _i=io||function(t){return h(t)&&bn(t.length)&&qr.call(t)==B};Io.dom||(Zn=function(t){return!!t&&1===t.nodeType&&h(t)&&!bi(t)});var yi=po||function(t){return"number"==typeof t&&ao(t)},wi=r(/x/)||no&&!r(no)?function(t){return qr.call(t)==z}:r,bi=Xr?function(t){if(!t||qr.call(t)!=G||!Lt.support.argsTag&&Yn(t))return!1;var e=t.valueOf,n=nr(e)&&(n=Xr(e))&&Xr(n);return n?t==n||Xr(t)==n:An(t)}:An,xi=Ue(Yt),Si=Qn(function(t){var e=t[0];return null==e?e:(t.push(Xt),xi.apply(w,t))}),Ei=Ke(ce),Ai=Ke(fe),$i=Ye(ko),Ii=Ye(Co),Ti=Ze(ce),Ni=Ze(fe),ji=lo?function(t){if(t)var e=t.constructor,n=t.length;return"function"==typeof e&&e.prototype===t||("function"==typeof t?Lt.support.enumPrototypes:n&&bn(n))?$n(t):er(t)?lo(t):[]}:$n,ki=Ue(ye),Ci=Qn(function(t,e){if(null==t)return{};if("function"!=typeof e[0])return e=Gt(le(e),kr),Sn(t,oe(sr(t),e));var n=Re(e[0],e[1],3);return En(t,function(t,e,r){return!n(t,e,r)})}),Li=Qn(function(t,e){return null==t?{}:"function"==typeof e[0]?En(t,Re(e[0],e[1],3)):Sn(t,le(e))}),Ri=He(function(t,e,n){return e=e.toLowerCase(),t+(n?e.charAt(0).toUpperCase()+e.slice(1):e)}),Ji=He(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Oi=tn(),Fi=tn(!0);8!=ho(It+"08")&&(hr=function(t,e,n){return(n?yn(t,e,n):null==e)?e=0:e&&(e=+e),t=gr(t),ho(t,e||(yt.test(t)?16:10))});var Di=He(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Ui=He(function(t,e,n){return t+(n?" ":"")+(e.charAt(0).toUpperCase()+e.slice(1))}),Pi=Qn(function(t,e){try{return t.apply(w,e)}catch(n){return tr(n)?n:new Ar(n)}}),Bi=We(Vt),qi=We(function(t){for(var e=-1,n=t.length,r=vo;++e<n;){var o=t[e];r>o&&(r=o)}return r},!0);return Lt.prototype=Rt.prototype,Jt.prototype=To(Rt.prototype),Jt.prototype.constructor=Jt,Ot.prototype=To(Rt.prototype),Ot.prototype.constructor=Ot,Ft.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Ft.prototype.get=function(t){return"__proto__"==t?w:this.__data__[t]},Ft.prototype.has=function(t){return"__proto__"!=t&&Pr.call(this.__data__,t)},Ft.prototype.set=function(t,e){return"__proto__"!=t&&(this.__data__[t]=e),this},Dt.prototype.push=function(t){var e=this.data;"string"==typeof t||er(t)?e.set.add(t):e.hash[t]=!0},Xn.Cache=Ft,Lt.after=function(t,e){if("function"!=typeof e){if("function"!=typeof t)throw new Cr(D);var n=t;t=e,e=n}return t=ao(t=+t)?t:0,function(){return 1>--t?e.apply(this,arguments):void 0}},Lt.ary=function(t,e,n){return n&&yn(t,e,n)&&(e=null),e=t&&null==e?t.length:so(+e||0,0),ln(t,N,null,null,null,null,e)},Lt.assign=xi,Lt.at=Go,Lt.before=Vn,Lt.bind=ui,Lt.bindAll=ai,Lt.bindKey=li,Lt.callback=vr,Lt.chain=Un,Lt.chunk=function(t,e,n){e=(n?yn(t,e,n):null==e)?1:so(+e||1,1),n=0;for(var r=t?t.length:0,o=-1,i=Sr(Gr(r/e));r>n;)i[++o]=Se(t,n,n+=e);return i},Lt.compact=function(t){for(var e=-1,n=t?t.length:0,r=-1,o=[];++e<n;){var i=t[e];i&&(o[++r]=i)}return o},Lt.constant=_r,Lt.countBy=Vo,Lt.create=function(t,e,n){var r=To(t);return n&&yn(t,e,n)&&(e=null),e?te(e,r,ji(e)):r},Lt.curry=si,Lt.curryRight=ci,Lt.debounce=Kn,Lt.defaults=Si,Lt.defer=fi,Lt.delay=pi,Lt.difference=Do,Lt.drop=jn,Lt.dropRight=kn,Lt.dropRightWhile=function(t,e,n){return t&&t.length?je(t,hn(e,n,3),!0,!0):[]},Lt.dropWhile=function(t,e,n){return t&&t.length?je(t,hn(e,n,3),!0):[]},Lt.fill=function(t,e,n,r){var o=t?t.length:0;if(!o)return[];for(n&&"number"!=typeof n&&yn(t,e,n)&&(n=0,r=o),o=t.length,n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r="undefined"==typeof r||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r>>>0,
n>>>=0;o>n;)t[n++]=e;return t},Lt.filter=qn,Lt.flatten=function(t,e,n){var r=t?t.length:0;return n&&yn(t,e,n)&&(e=!1),r?le(t,e):[]},Lt.flattenDeep=function(t){return t&&t.length?le(t,!0):[]},Lt.flow=hi,Lt.flowRight=di,Lt.forEach=Qo,Lt.forEachRight=Yo,Lt.forIn=$i,Lt.forInRight=Ii,Lt.forOwn=Ti,Lt.forOwnRight=Ni,Lt.functions=lr,Lt.groupBy=Zo,Lt.indexBy=ti,Lt.initial=function(t){return kn(t,1)},Lt.intersection=function(){for(var t=[],e=-1,r=arguments.length,o=[],i=dn(),u=i==n;++e<r;){var a=arguments[e];(_i(a)||Yn(a))&&(t.push(a),o.push(u&&120<=a.length?Ro(e&&a):null))}var r=t.length,u=t[0],l=-1,s=u?u.length:0,c=[],f=o[0];t:for(;++l<s;)if(a=u[l],0>(f?Ut(f,a):i(c,a,0))){for(e=r;--e;){var p=o[e];if(0>(p?Ut(p,a):i(t[e],a,0)))continue t}f&&f.push(a),c.push(a)}return c},Lt.invert=function(t,e,n){n&&yn(t,e,n)&&(e=null),n=-1;for(var r=ji(t),o=r.length,i={};++n<o;){var u=r[n],a=t[u];e?Pr.call(i,a)?i[a].push(u):i[a]=[u]:i[a]=u}return i},Lt.invoke=ei,Lt.keys=ji,Lt.keysIn=sr,Lt.map=Mn,Lt.mapValues=function(t,e,n){var r={};return e=hn(e,n,3),ce(t,function(t,n,o){r[n]=e(t,n,o)}),r},Lt.matches=wr,Lt.matchesProperty=function(t,e){return _e(t+"",ne(e,!0))},Lt.memoize=Xn,Lt.merge=ki,Lt.mixin=br,Lt.negate=function(t){if("function"!=typeof t)throw new Cr(D);return function(){return!t.apply(this,arguments)}},Lt.omit=Ci,Lt.once=function(t){return Vn(t,2)},Lt.pairs=function(t){for(var e=-1,n=ji(t),r=n.length,o=Sr(r);++e<r;){var i=n[e];o[e]=[i,t[i]]}return o},Lt.partial=gi,Lt.partialRight=mi,Lt.partition=ni,Lt.pick=Li,Lt.pluck=function(t,e){return Mn(t,we(e))},Lt.property=function(t){return we(t+"")},Lt.propertyOf=function(t){return function(e){return null==t?w:t[e]}},Lt.pull=function(){var t=arguments,e=t[0];if(!e||!e.length)return e;for(var n=0,r=dn(),o=t.length;++n<o;)for(var i=0,u=t[n];-1<(i=r(e,u,i));)eo.call(e,i,1);return e},Lt.pullAt=Bo,Lt.range=function(t,e,n){n&&yn(t,e,n)&&(e=n=null),t=+t||0,n=null==n?1:+n||0,null==e?(e=t,t=0):e=+e||0;var r=-1;e=so(Gr((e-t)/(n||1)),0);for(var o=Sr(e);++r<e;)o[r]=t,t+=n;return o},Lt.rearg=vi,Lt.reject=function(t,e,n){var r=_i(t)?Wt:ue;return e=hn(e,n,3),r(t,function(t,n,r){return!e(t,n,r)})},Lt.remove=function(t,e,n){var r=-1,o=t?t.length:0,i=[];for(e=hn(e,n,3);++r<o;)n=t[r],e(n,r,t)&&(i.push(n),eo.call(t,r--,1),o--);return i},Lt.rest=Jn,Lt.restParam=Qn,Lt.shuffle=Wn,Lt.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&yn(t,e,n)&&(e=0,n=r),Se(t,e,n)):[]},Lt.sortBy=function(t,e,n){if(null==t)return[];var r=-1,o=t.length,i=bn(o)?Sr(o):[];return n&&yn(t,e,n)&&(e=null),e=hn(e,n,3),No(t,function(t,n,o){i[++r]={a:e(t,n,o),b:r,c:t}}),Ae(i,l)},Lt.sortByAll=function(){var t=arguments,e=t[0],n=t[3],r=0,o=t.length-1;if(null==e)return[];for(var i=Sr(o);o>r;)i[r]=t[++r];return n&&yn(t[1],t[2],n)&&(i=t[1]),$e(e,le(i),[])},Lt.sortByOrder=function(t,e,n,r){return null==t?[]:(r&&yn(e,n,r)&&(n=null),_i(e)||(e=null==e?[]:[e]),_i(n)||(n=null==n?[]:[n]),$e(t,e,n))},Lt.spread=function(t){if("function"!=typeof t)throw new Cr(D);return function(e){return t.apply(this,e)}},Lt.take=function(t,e,n){return t&&t.length?((n?yn(t,e,n):null==e)&&(e=1),Se(t,0,0>e?0:e)):[]},Lt.takeRight=function(t,e,n){var r=t?t.length:0;return r?((n?yn(t,e,n):null==e)&&(e=1),e=r-(+e||0),Se(t,0>e?0:e)):[]},Lt.takeRightWhile=function(t,e,n){return t&&t.length?je(t,hn(e,n,3),!1,!0):[]},Lt.takeWhile=function(t,e,n){return t&&t.length?je(t,hn(e,n,3)):[]},Lt.tap=function(t,e,n){return e.call(n,t),t},Lt.throttle=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new Cr(D);return!1===n?r=!1:er(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),Ct.leading=r,Ct.maxWait=+e,Ct.trailing=o,Kn(t,e,Ct)},Lt.thru=Pn,Lt.times=function(t,e,n){if(t=+t,1>t||!ao(t))return[];var r=-1,o=Sr(co(t,_o));for(e=Re(e,n,1);++r<t;)_o>r?o[r]=e(r):e(r);return o},Lt.toArray=function(t){var e=t?t.length:0;return bn(e)?e?Lt.support.unindexedChars&&ir(t)?t.split(""):Pt(t):[]:cr(t)},Lt.toPlainObject=ar,Lt.transform=function(t,e,n,r){var o=_i(t)||ur(t);return e=hn(e,r,4),null==n&&(o||er(t)?(r=t.constructor,n=o?_i(t)?new r:[]:To(wi(r)&&r.prototype)):n={}),(o?Bt:ce)(t,function(t,r,o){return e(n,t,r,o)}),n},Lt.union=Mo,Lt.uniq=On,Lt.unzip=Fn,Lt.values=cr,Lt.valuesIn=function(t){return Ne(t,sr(t))},Lt.where=function(t,e){return qn(t,ve(e))},Lt.without=zo,Lt.wrap=function(t,e){return e=null==e?yr:e,ln(e,I,null,[t],[])},Lt.xor=function(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(_i(n)||Yn(n))var r=r?oe(r,n).concat(oe(n,r)):n}return r?Te(r):[]},Lt.zip=Wo,Lt.zipObject=Dn,Lt.backflow=di,Lt.collect=Mn,Lt.compose=di,Lt.each=Qo,Lt.eachRight=Yo,Lt.extend=xi,Lt.iteratee=vr,Lt.methods=lr,Lt.object=Dn,Lt.select=qn,Lt.tail=Jn,Lt.unique=On,br(Lt,Lt),Lt.add=function(t,e){return t+e},Lt.attempt=Pi,Lt.camelCase=Ri,Lt.capitalize=function(t){return(t=o(t))&&t.charAt(0).toUpperCase()+t.slice(1)},Lt.clone=function(t,e,n,r){return e&&"boolean"!=typeof e&&yn(t,e,n)?e=!1:"function"==typeof e&&(r=n,n=e,e=!1),n="function"==typeof n&&Re(n,r,1),ne(t,e,n)},Lt.cloneDeep=function(t,e,n){return e="function"==typeof e&&Re(e,n,1),ne(t,!0,e)},Lt.deburr=fr,Lt.endsWith=function(t,e,n){t=o(t),e+="";var r=t.length;return n="undefined"==typeof n?r:co(0>n?0:+n||0,r),n-=e.length,n>=0&&t.indexOf(e,n)==n},Lt.escape=function(t){return(t=o(t))&&pt.test(t)?t.replace(ct,c):t},Lt.escapeRegExp=pr,Lt.every=Bn,Lt.find=Ko,Lt.findIndex=Uo,Lt.findKey=Ei,Lt.findLast=Xo,Lt.findLastIndex=Po,Lt.findLastKey=Ai,Lt.findWhere=function(t,e){return Ko(t,ve(e))},Lt.first=Cn,Lt.has=function(t,e){return t?Pr.call(t,e):!1},Lt.identity=yr,Lt.includes=Hn,Lt.indexOf=Ln,Lt.inRange=function(t,e,n){return e=+e||0,"undefined"==typeof n?(n=e,e=0):n=+n||0,t>=e&&n>t},Lt.isArguments=Yn,Lt.isArray=_i,Lt.isBoolean=function(t){return!0===t||!1===t||h(t)&&qr.call(t)==q},Lt.isDate=function(t){return h(t)&&qr.call(t)==H},Lt.isElement=Zn,Lt.isEmpty=function(t){if(null==t)return!0;var e=t.length;return bn(e)&&(_i(t)||ir(t)||Yn(t)||h(t)&&wi(t.splice))?!e:!ji(t).length},Lt.isEqual=function(t,e,n,r){return n="function"==typeof n&&Re(n,r,3),!n&&xn(t)&&xn(e)?t===e:(r=n?n(t,e):w,"undefined"==typeof r?he(t,e,n):!!r)},Lt.isError=tr,Lt.isFinite=yi,Lt.isFunction=wi,Lt.isMatch=function(t,e,n,r){var o=ji(e),i=o.length;if(!i)return!0;if(null==t)return!1;if(n="function"==typeof n&&Re(n,r,3),!n&&1==i){var u=o[0];if(r=e[u],xn(r))return r===t[u]&&("undefined"!=typeof r||u in Tn(t))}for(var u=Sr(i),a=Sr(i);i--;)r=u[i]=e[o[i]],a[i]=xn(r);return ge(Tn(t),o,u,a,n)},Lt.isNaN=function(t){return rr(t)&&t!=+t},Lt.isNative=nr,Lt.isNull=function(t){return null===t},Lt.isNumber=rr,Lt.isObject=er,Lt.isPlainObject=bi,Lt.isRegExp=or,Lt.isString=ir,Lt.isTypedArray=ur,Lt.isUndefined=function(t){return"undefined"==typeof t},Lt.kebabCase=Ji,Lt.last=Rn,Lt.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var o=r;if("number"==typeof n)o=(0>n?so(r+n,0):co(n||0,r-1))+1;else if(n)return o=Ce(t,e,!0)-1,t=t[o],(e===e?e===t:t!==t)?o:-1;if(e!==e)return p(t,o,!0);for(;o--;)if(t[o]===e)return o;return-1},Lt.max=Bi,Lt.min=qi,Lt.noConflict=function(){return d._=Hr,this},Lt.noop=xr,Lt.now=ii,Lt.pad=function(t,e,n){t=o(t),e=+e;var r=t.length;return e>r&&ao(e)?(r=(e-r)/2,e=Kr(r),r=Gr(r),n=on("",r,n),n.slice(0,e)+t+n):t},Lt.padLeft=Oi,Lt.padRight=Fi,Lt.parseInt=hr,Lt.random=function(t,e,n){n&&yn(t,e,n)&&(e=n=null);var r=null==t,o=null==e;return null==n&&(o&&"boolean"==typeof t?(n=t,t=1):"boolean"==typeof e&&(n=e,o=!0)),r&&o&&(e=1,o=!1),t=+t||0,o?(e=t,t=0):e=+e||0,n||t%1||e%1?(n=go(),co(t+n*(e-t+parseFloat("1e-"+((n+"").length-1))),e)):be(t,e)},Lt.reduce=ri,Lt.reduceRight=oi,Lt.repeat=dr,Lt.result=function(t,e,n){return e=null==t?w:t[e],"undefined"==typeof e&&(e=n),wi(e)?e.call(t):e},Lt.runInContext=y,Lt.size=function(t){var e=t?t.length:0;return bn(e)?e:ji(t).length},Lt.snakeCase=Di,Lt.some=Gn,Lt.sortedIndex=qo,Lt.sortedLastIndex=Ho,Lt.startCase=Ui,Lt.startsWith=function(t,e,n){return t=o(t),n=null==n?0:co(0>n?0:+n||0,t.length),t.lastIndexOf(e,n)==n},Lt.sum=function(t,e,n){n&&yn(t,e,n)&&(e=null);var r=hn(),o=null==e;if(r===ee&&o||(o=!1,e=r(e,n,3)),o){for(t=_i(t)?t:In(t),e=t.length,n=0;e--;)n+=+t[e]||0;t=n}else t=Ie(t,e);return t},Lt.template=function(t,e,n){var r=Lt.templateSettings;n&&yn(t,e,n)&&(e=n=null),t=o(t),e=Yt(Yt({},n||e),r,Qt),n=Yt(Yt({},e.imports),r.imports,Qt);var i,u,a=ji(n),l=Ne(n,a),s=0;n=e.interpolate||xt;var c="__p+='";n=jr((e.escape||xt).source+"|"+n.source+"|"+(n===gt?vt:xt).source+"|"+(e.evaluate||xt).source+"|$","g");var p="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,o,a,l){return r||(r=o),c+=t.slice(s,l).replace(At,f),n&&(i=!0,c+="'+__e("+n+")+'"),a&&(u=!0,c+="';"+a+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),s=l+e.length,e}),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(u?c.replace(ut,""):c).replace(at,"$1").replace(lt,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(u?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",e=Pi(function(){return $r(a,p+"return "+c).apply(w,l)}),e.source=c,tr(e))throw e;return e},Lt.trim=gr,Lt.trimLeft=function(t,e,n){var r=t;return(t=o(t))?t.slice((n?yn(r,e,n):null==e)?m(t):u(t,e+"")):t},Lt.trimRight=function(t,e,n){var r=t;return(t=o(t))?(n?yn(r,e,n):null==e)?t.slice(0,v(t)+1):t.slice(0,a(t,e+"")+1):t},Lt.trunc=function(t,e,n){n&&yn(t,e,n)&&(e=null);var r=k;if(n=C,null!=e)if(er(e)){var i="separator"in e?e.separator:i,r="length"in e?+e.length||0:r;n="omission"in e?o(e.omission):n}else r=+e||0;if(t=o(t),r>=t.length)return t;if(r-=n.length,1>r)return n;if(e=t.slice(0,r),null==i)return e+n;if(or(i)){if(t.slice(r).search(i)){var u,a=t.slice(0,r);for(i.global||(i=jr(i.source,(_t.exec(i)||"")+"g")),i.lastIndex=0;t=i.exec(a);)u=t.index;e=e.slice(0,null==u?r:u)}}else t.indexOf(i,r)!=r&&(i=e.lastIndexOf(i),i>-1&&(e=e.slice(0,i)));return e+n},Lt.unescape=function(t){return(t=o(t))&&ft.test(t)?t.replace(st,_):t},Lt.uniqueId=function(t){var e=++Br;return o(t)+e},Lt.words=mr,Lt.all=Bn,Lt.any=Gn,Lt.contains=Hn,Lt.detect=Ko,Lt.foldl=ri,Lt.foldr=oi,Lt.head=Cn,Lt.include=Hn,Lt.inject=ri,br(Lt,function(){var t={};return ce(Lt,function(e,n){Lt.prototype[n]||(t[n]=e)}),t}(),!1),Lt.sample=zn,Lt.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return zn(e,t)}):zn(this.value())},Lt.VERSION=b,Bt("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Lt[t].placeholder=Lt}),Bt(["dropWhile","filter","map","takeWhile"],function(t,e){var n=e!=F,r=e==J;Ot.prototype[t]=function(t,o){var i=this.__filtered__,u=i&&r?new Ot(this):this.clone();return(u.__iteratees__||(u.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:hn(t,o,1),limit:-1,type:e}),u.__filtered__=i||n,u}}),Bt(["drop","take"],function(t,e){var n=t+"While";Ot.prototype[t]=function(n){var r=this.__filtered__,o=r&&!e?this.dropWhile():this.clone();return n=null==n?1:so(Kr(n)||0,0),r?e?o.__takeCount__=co(o.__takeCount__,n):Rn(o.__iteratees__).limit=n:(o.__views__||(o.__views__=[])).push({size:n,type:t+(0>o.__dir__?"Right":"")}),o},Ot.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()},Ot.prototype[t+"RightWhile"]=function(t,e){return this.reverse()[n](t,e).reverse()}}),Bt(["first","last"],function(t,e){var n="take"+(e?"Right":"");Ot.prototype[t]=function(){return this[n](1).value()[0]}}),Bt(["initial","rest"],function(t,e){var n="drop"+(e?"":"Right");Ot.prototype[t]=function(){return this[n](1)}}),Bt(["pluck","where"],function(t,e){var n=e?"filter":"map",r=e?ve:we;Ot.prototype[t]=function(t){return this[n](r(t))}}),Ot.prototype.compact=function(){return this.filter(yr)},Ot.prototype.reject=function(t,e){return t=hn(t,e,1),this.filter(function(e){return!t(e)})},Ot.prototype.slice=function(t,e){t=null==t?0:+t||0;var n=0>t?this.takeRight(-t):this.drop(t);return"undefined"!=typeof e&&(e=+e||0,n=0>e?n.dropRight(-e):n.take(e-t)),n},Ot.prototype.toArray=function(){return this.drop(0)},ce(Ot.prototype,function(t,e){var n=Lt[e];if(n){var r=/^(?:filter|map|reject)|While$/.test(e),o=/^(?:first|last)$/.test(e);Lt.prototype[e]=function(){function e(t){return t=[t],Qr.apply(t,i),n.apply(Lt,t)}var i=arguments,u=this.__chain__,a=this.__wrapped__,l=!!this.__actions__.length,s=a instanceof Ot,c=i[0],f=s||_i(a);return f&&r&&"function"==typeof c&&1!=c.length&&(s=f=!1),s=s&&!l,o&&!u?s?t.call(a):n.call(Lt,this.value()):f?(a=t.apply(s?a:new Ot(this),i),o||!l&&!a.__actions__||(a.__actions__||(a.__actions__=[])).push({func:Pn,args:[e],thisArg:Lt}),new Jt(a,u)):this.thru(e)}}}),Bt("concat join pop push replace shift sort splice split unshift".split(" "),function(t){var e=(/^(?:replace|split)$/.test(t)?Or:Lr)[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(t),o=Io.spliceObjects||!/^(?:pop|shift|splice)$/.test(t)?e:function(){var t=e.apply(this,arguments);return 0===this.length&&delete this[0],t};Lt.prototype[t]=function(){var t=arguments;return r&&!this.__chain__?o.apply(this.value(),t):this[n](function(e){return o.apply(e,t)})}}),ce(Ot.prototype,function(t,e){var n=Lt[e];if(n){var r=n.name;(Eo[r]||(Eo[r]=[])).push({name:e,func:n})}}),Eo[rn(null,S).name]=[{name:"wrapper",func:null}],Ot.prototype.clone=function(){var t=this.__actions__,e=this.__iteratees__,n=this.__views__,r=new Ot(this.__wrapped__);return r.__actions__=t?Pt(t):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=e?Pt(e):null,r.__takeCount__=this.__takeCount__,r.__views__=n?Pt(n):null,r},Ot.prototype.reverse=function(){if(this.__filtered__){var t=new Ot(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Ot.prototype.value=function(){var t=this.__wrapped__.value();if(!_i(t))return ke(t,this.__actions__);var e,n=this.__dir__,r=0>n;e=t.length;for(var o=this.__views__,i=0,u=-1,a=o?o.length:0;++u<a;){var l=o[u],s=l.size;switch(l.type){case"drop":i+=s;break;case"dropRight":e-=s;break;case"take":e=co(e,i+s);break;case"takeRight":i=so(i,e-s)}}e={start:i,end:e},o=e.start,i=e.end,e=i-o,o=r?i:o-1,i=co(e,this.__takeCount__),a=(u=this.__iteratees__)?u.length:0,l=0,s=[];t:for(;e--&&i>l;){for(var o=o+n,c=-1,f=t[o];++c<a;){var p=u[c],h=p.iteratee,d=p.type;if(d==J){if(p.done&&(r?o>p.index:o<p.index)&&(p.count=0,p.done=!1),p.index=o,!(p.done||(d=p.limit,p.done=d>-1?p.count++>=d:!h(f))))continue t}else if(p=h(f),d==F)f=p;else if(!p){if(d==O)continue t;break t}}s[l++]=f}return s},Lt.prototype.chain=function(){return Un(this)},Lt.prototype.commit=function(){return new Jt(this.value(),this.__chain__)},Lt.prototype.plant=function(t){for(var e,n=this;n instanceof Rt;){var r=Nn(n);e?o.__wrapped__=r:e=r;var o=r,n=n.__wrapped__}return o.__wrapped__=t,e},Lt.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Ot?(this.__actions__.length&&(t=new Ot(this)),new Jt(t.reverse(),this.__chain__)):this.thru(function(t){return t.reverse()})},Lt.prototype.toString=function(){return this.value()+""},Lt.prototype.run=Lt.prototype.toJSON=Lt.prototype.valueOf=Lt.prototype.value=function(){return ke(this.__wrapped__,this.__actions__)},Lt.prototype.collect=Lt.prototype.map,Lt.prototype.head=Lt.prototype.first,Lt.prototype.select=Lt.prototype.filter,Lt.prototype.tail=Lt.prototype.rest,Lt}var w,b="3.6.0",x=1,S=2,E=4,A=8,$=16,I=32,T=64,N=128,j=256,k=30,C="...",L=150,R=16,J=0,O=1,F=2,D="Expected a function",U="__lodash_placeholder__",P="[object Arguments]",B="[object Array]",q="[object Boolean]",H="[object Date]",M="[object Error]",z="[object Function]",W="[object Number]",G="[object Object]",V="[object RegExp]",K="[object String]",X="[object ArrayBuffer]",Q="[object Float32Array]",Y="[object Float64Array]",Z="[object Int8Array]",tt="[object Int16Array]",et="[object Int32Array]",nt="[object Uint8Array]",rt="[object Uint8ClampedArray]",ot="[object Uint16Array]",it="[object Uint32Array]",ut=/\b__p\+='';/g,at=/\b(__p\+=)''\+/g,lt=/(__e\(.*?\)|\b__t\))\+'';/g,st=/&(?:amp|lt|gt|quot|#39|#96);/g,ct=/[&<>"'`]/g,ft=RegExp(st.source),pt=RegExp(ct.source),ht=/<%-([\s\S]+?)%>/g,dt=/<%([\s\S]+?)%>/g,gt=/<%=([\s\S]+?)%>/g,mt=/[\u0300-\u036f\ufe20-\ufe23]/g,vt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,_t=/\w*$/,yt=/^0[xX]/,wt=/^\[object .+?Constructor\]$/,bt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,xt=/($^)/,St=/[.*+?^${}()|[\]\/\\]/g,Et=RegExp(St.source),At=/['\n\r\u2028\u2029\\]/g,$t=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),It=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Tt="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),jt={};jt[Q]=jt[Y]=jt[Z]=jt[tt]=jt[et]=jt[nt]=jt[rt]=jt[ot]=jt[it]=!0,jt[P]=jt[B]=jt[X]=jt[q]=jt[H]=jt[M]=jt[z]=jt["[object Map]"]=jt[W]=jt[G]=jt[V]=jt["[object Set]"]=jt[K]=jt["[object WeakMap]"]=!1;var kt={};kt[P]=kt[B]=kt[X]=kt[q]=kt[H]=kt[Q]=kt[Y]=kt[Z]=kt[tt]=kt[et]=kt[W]=kt[G]=kt[V]=kt[K]=kt[nt]=kt[rt]=kt[ot]=kt[it]=!0,kt[M]=kt[z]=kt["[object Map]"]=kt["[object Set]"]=kt["[object WeakMap]"]=!1;var Ct={leading:!1,maxWait:0,trailing:!1},Lt={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Rt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Jt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ot={"function":!0,object:!0},Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Dt=Ot[typeof exports]&&exports&&!exports.nodeType&&exports,Ut=Ot[typeof module]&&module&&!module.nodeType&&module,Pt=Ot[typeof self]&&self&&self.Object&&self,Ot=Ot[typeof window]&&window&&window.Object&&window,Bt=Ut&&Ut.exports===Dt&&Dt,qt=Dt&&Ut&&"object"==typeof global&&global||Ot!==(this&&this.window)&&Ot||Pt||this,Ht=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),Mt=y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(qt._=Mt,define(function(){return Mt})):Dt&&Ut?Bt?(Ut.exports=Mt)._=Mt:Dt._=Mt:qt._=Mt}).call(this),function(){var rsplit=function(t,e){for(var n,r,o,i=e.exec(t),u=new Array;null!=i;)n=i.index,r=e.lastIndex,0!=n&&(o=t.substring(0,n),u.push(t.substring(0,n)),t=t.slice(n)),u.push(i[0]),t=t.slice(i[0].length),i=e.exec(t);return""==!t&&u.push(t),u},chop=function(t){return t.substr(0,t.length-1)},extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};EJS=function(t){if(t="string"==typeof t?{view:t}:t,this.set_options(t),t.precompiled)return this.template={},this.template.process=t.precompiled,void EJS.update(this.name,this);if(t.element){if("string"==typeof t.element){var e=t.element;if(t.element=document.getElementById(t.element),null==t.element)throw e+"does not exist!"}t.element.value?this.text=t.element.value:this.text=t.element.innerHTML,this.name=t.element.id,this.type="["}else if(t.url){t.url=EJS.endExt(t.url,this.extMatch),this.name=this.name?this.name:t.url;var n=t.url,r=EJS.get(this.name,this.cache);if(r)return r;if(r==EJS.INVALID_PATH)return null;try{this.text=EJS.request(n+(this.cache?"":"?"+Math.random()))}catch(o){}if(null==this.text)throw{type:"EJS",message:"There is no template at "+n}}var r=new EJS.Compiler(this.text,this.type);r.compile(t,this.name),EJS.update(this.name,this),this.template=r},EJS.prototype={render:function(t,e){t=t||{},this._extra_helpers=e;var n=new EJS.Helpers(t,e||{});return this.template.process.call(t,t,n)},update:function(element,options){return"string"==typeof element&&(element=document.getElementById(element)),null==options?(_template=this,function(t){EJS.prototype.update.call(_template,element,t)}):void("string"==typeof options?(params={},params.url=options,_template=this,params.onComplete=function(request){var object=eval(request.responseText);EJS.prototype.update.call(_template,element,object)},EJS.ajax_request(params)):element.innerHTML=this.render(options))},out:function(){return this.template.out},set_options:function(t){this.type=t.type||EJS.type,this.cache=null!=t.cache?t.cache:EJS.cache,this.text=t.text||null,this.name=t.name||null,this.ext=t.ext||EJS.ext,this.extMatch=new RegExp(this.ext.replace(/\./,"."))}},EJS.endExt=function(t,e){return t?(e.lastIndex=0,t+(e.test(t)?"":this.ext)):null},EJS.Scanner=function(t,e,n){extend(this,{left_delimiter:e+"%",right_delimiter:"%"+n,double_left:e+"%%",double_right:"%%"+n,left_equal:e+"%=",left_comment:e+"%#"}),this.SplitRegexp="["==e?/(\[%%)|(%%\])|(\[%=)|(\[%#)|(\[%)|(%\]\n)|(%\])|(\n)/:new RegExp("("+this.double_left+")|(%%"+this.double_right+")|("+this.left_equal+")|("+this.left_comment+")|("+this.left_delimiter+")|("+this.right_delimiter+"\n)|("+this.right_delimiter+")|(\n)"),this.source=t,this.stag=null,this.lines=0},EJS.Scanner.to_text=function(t){return null==t||void 0===t?"":t instanceof Date?t.toDateString():t.toString?t.toString():""},EJS.Scanner.prototype={scan:function(t){if(scanline=this.scanline,regex=this.SplitRegexp,""==!this.source)for(var e=rsplit(this.source,/\n/),n=0;n<e.length;n++){var r=e[n];this.scanline(r,regex,t)}},scanline:function(t,e,n){this.lines++;for(var r=rsplit(t,e),o=0;o<r.length;o++){var i=r[o];if(null!=i)try{n(i,this)}catch(u){throw{type:"EJS.Scanner",line:this.lines}}}}},EJS.Buffer=function(t,e){this.line=new Array,this.script="",this.pre_cmd=t,this.post_cmd=e;for(var n=0;n<this.pre_cmd.length;n++)this.push(t[n])},EJS.Buffer.prototype={push:function(t){this.line.push(t)},cr:function(){this.script=this.script+this.line.join("; "),this.line=new Array,this.script=this.script+"\n"},close:function(){if(this.line.length>0){for(var t=0;t<this.post_cmd.length;t++)this.push(pre_cmd[t]);this.script=this.script+this.line.join("; "),line=null}}},EJS.Compiler=function(t,e){this.pre_cmd=["var ___ViewO = [];"],this.post_cmd=new Array,this.source=" ",null!=t&&("string"==typeof t?(t=t.replace(/\r\n/g,"\n"),t=t.replace(/\r/g,"\n"),this.source=t):t.innerHTML&&(this.source=t.innerHTML),"string"!=typeof this.source&&(this.source="")),e=e||"<";var n=">";switch(e){case"[":n="]";break;case"<":break;default:throw e+" is not a supported deliminator"}this.scanner=new EJS.Scanner(this.source,e,n),this.out=""},EJS.Compiler.prototype={compile:function(options,name){options=options||{},this.out="";var put_cmd="___ViewO.push(",insert_cmd=put_cmd,buff=new EJS.Buffer(this.pre_cmd,this.post_cmd),content="",clean=function(t){return t=t.replace(/\\/g,"\\\\"),t=t.replace(/\n/g,"\\n"),t=t.replace(/"/g,'\\"')};this.scanner.scan(function(t,e){if(null==e.stag)switch(t){case"\n":content+="\n",buff.push(put_cmd+'"'+clean(content)+'");'),buff.cr(),content="";break;case e.left_delimiter:case e.left_equal:case e.left_comment:e.stag=t,content.length>0&&buff.push(put_cmd+'"'+clean(content)+'")'),content="";break;case e.double_left:content+=e.left_delimiter;break;default:content+=t}else switch(t){case e.right_delimiter:switch(e.stag){case e.left_delimiter:"\n"==content[content.length-1]?(content=chop(content),buff.push(content),buff.cr()):buff.push(content);break;case e.left_equal:buff.push(insert_cmd+"(EJS.Scanner.to_text("+content+")))")}e.stag=null,content="";break;case e.double_right:content+=e.right_delimiter;break;default:content+=t}}),content.length>0&&buff.push(put_cmd+'"'+clean(content)+'")'),buff.close(),this.out=buff.script+";";var to_be_evaled="/*"+name+"*/this.process = function(_CONTEXT,_VIEW) { try { with(_VIEW) { with (_CONTEXT) {"+this.out+" return ___ViewO.join('');}}}catch(e){e.lineNumber=null;throw e;}};";try{eval(to_be_evaled)}catch(e){if("undefined"==typeof JSLINT)throw e;JSLINT(this.out);for(var i=0;i<JSLINT.errors.length;i++){var error=JSLINT.errors[i];if("Unnecessary semicolon."!=error.reason){error.line++;var e=new Error;throw e.lineNumber=error.line,e.message=error.reason,options.view&&(e.fileName=options.view),e}}}}},EJS.config=function(t){EJS.cache=null!=t.cache?t.cache:EJS.cache,EJS.type=null!=t.type?t.type:EJS.type,EJS.ext=null!=t.ext?t.ext:EJS.ext;var e=EJS.templates_directory||{};EJS.templates_directory=e,EJS.get=function(t,n){return 0==n?null:e[t]?e[t]:null},EJS.update=function(t,n){null!=t&&(e[t]=n)},EJS.INVALID_PATH=-1},EJS.config({cache:!0,type:"<",ext:".ejs"}),EJS.Helpers=function(t,e){this._data=t,this._extras=e,extend(this,e)},EJS.Helpers.prototype={view:function(t,e,n){return n||(n=this._extras),e||(e=this._data),new EJS(t).render(e,n)},to_text:function(t,e){return null==t||void 0===t?e||"":t instanceof Date?t.toDateString():t.toString?t.toString().replace(/\n/g,"<br />").replace(/''/g,"'"):""}},EJS.newRequest=function(){for(var t=[function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new XMLHttpRequest},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],e=0;e<t.length;e++)try{var n=t[e]();if(null!=n)return n}catch(r){continue}},EJS.request=function(t){var e=new EJS.newRequest;e.open("GET",t,!1);try{e.send(null)}catch(n){return null}return 404==e.status||2==e.status||0==e.status&&""==e.responseText?null:e.responseText},EJS.ajax_request=function(t){t.method=t.method?t.method:"GET";var e=new EJS.newRequest;e.onreadystatechange=function(){4==e.readyState&&(200==e.status?t.onComplete(e):t.onComplete(e))},e.open(t.method,t.url),e.send(null)}}(),EJS.Helpers.prototype.date_tag=function(t,e,n){e instanceof Date||(e=new Date);for(var r=["January","February","March","April","May","June","July","August","September","October","November","December"],o=[],i=[],u=[],a=e.getFullYear(),l=e.getMonth(),s=e.getDate(),c=a-15;a+15>c;c++)o.push({value:c,text:c});for(var f=0;12>f;f++)i.push({value:f,text:r[f]});for(var p=0;31>p;p++)u.push({value:p+1,text:p+1});var h=this.select_tag(t+"[year]",a,o,{id:t+"[year]"}),d=this.select_tag(t+"[month]",l,i,{id:t+"[month]"}),g=this.select_tag(t+"[day]",s,u,{id:t+"[day]"});return h+d+g},EJS.Helpers.prototype.form_tag=function(t,e){return e=e||{},e.action=t,1==e.multipart&&(e.method="post",e.enctype="multipart/form-data"),this.start_tag_for("form",e)},EJS.Helpers.prototype.form_tag_end=function(){return this.tag_end("form")},EJS.Helpers.prototype.hidden_field_tag=function(t,e,n){return this.input_field_tag(t,e,"hidden",n)},EJS.Helpers.prototype.input_field_tag=function(t,e,n,r){return r=r||{},r.id=r.id||t,r.value=e||"",r.type=n||"text",r.name=t,this.single_tag_for("input",r)},EJS.Helpers.prototype.is_current_page=function(t){return window.location.href==t||window.location.pathname==t?!0:!1},EJS.Helpers.prototype.link_to=function(t,e,n){if(!t)var t="null";if(!n)var n={};return n.confirm&&(n.onclick=' var ret_confirm = confirm("'+n.confirm+'"); if(!ret_confirm){ return false;} ',n.confirm=null),n.href=e,this.start_tag_for("a",n)+t+this.tag_end("a")},EJS.Helpers.prototype.submit_link_to=function(t,e,n){if(!t)var t="null";if(!n)var n={};return n.onclick=n.onclick||"",n.confirm&&(n.onclick=' var ret_confirm = confirm("'+n.confirm+'"); if(!ret_confirm){ return false;} ',n.confirm=null),n.value=t,n.type="submit",n.onclick=n.onclick+(e?this.url_for(e):"")+"return false;",this.start_tag_for("input",n)},EJS.Helpers.prototype.link_to_if=function(t,e,n,r,o,i){return this.link_to_unless(0==t,e,n,r,o,i)},EJS.Helpers.prototype.link_to_unless=function(t,e,n,r,o){return r=r||{},t?o&&"function"==typeof o?o(e,n,r,o):e:this.link_to(e,n,r)},EJS.Helpers.prototype.link_to_unless_current=function(t,e,n,r){return n=n||{},this.link_to_unless(this.is_current_page(e),t,e,n,r)},EJS.Helpers.prototype.password_field_tag=function(t,e,n){return this.input_field_tag(t,e,"password",n)},EJS.Helpers.prototype.select_tag=function(t,e,n,r){r=r||{},r.id=r.id||t,r.value=e,r.name=t;var o="";o+=this.start_tag_for("select",r);for(var i=0;i<n.length;i++){var u=n[i],a={value:u.value};u.value==e&&(a.selected="selected"),o+=this.start_tag_for("option",a)+u.text+this.tag_end("option")}return o+=this.tag_end("select")},EJS.Helpers.prototype.single_tag_for=function(t,e){return this.tag(t,e,"/>")},EJS.Helpers.prototype.start_tag_for=function(t,e){return this.tag(t,e)},EJS.Helpers.prototype.submit_tag=function(t,e){return e=e||{},e.type=e.type||"submit",e.value=t||"Submit",this.single_tag_for("input",e)},EJS.Helpers.prototype.tag=function(t,e,n){if(!n)var n=">";var r=" ";for(var o in e){if(null!=e[o])var i=e[o].toString();else var i="";"Class"==o&&(o="class"),r+=-1!=i.indexOf("'")?o+'="'+i+'" ':o+"='"+i+"' "}return"<"+t+r+n},EJS.Helpers.prototype.tag_end=function(t){return"</"+t+">"},EJS.Helpers.prototype.text_area_tag=function(t,e,n){return n=n||{},n.id=n.id||t,n.name=n.name||t,e=e||"",n.size&&(n.cols=n.size.split("x")[0],n.rows=n.size.split("x")[1],delete n.size),n.cols=n.cols||50,n.rows=n.rows||4,this.start_tag_for("textarea",n)+e+this.tag_end("textarea")},EJS.Helpers.prototype.text_tag=EJS.Helpers.prototype.text_area_tag,EJS.Helpers.prototype.text_field_tag=function(t,e,n){return this.input_field_tag(t,e,"text",n)},EJS.Helpers.prototype.url_for=function(t){return'window.location="'+t+'";'},EJS.Helpers.prototype.img_tag=function(t,e,n){return n=n||{},n.src=t,n.alt=e,this.single_tag_for("img",n)},jQuery.fn.selectText=function(){this.find("input").each(function(){0!=$(this).prev().length&&$(this).prev().hasClass("p_copy")||$('<p class="p_copy" style="position: absolute; z-index: -1;"></p>').insertBefore($(this)),$(this).prev().html($(this).val())});var t=document,e=this[0];if(t.body.createTextRange){var n=document.body.createTextRange();n.moveToElementText(e),n.select()}else if(window.getSelection){var r=window.getSelection(),n=document.createRange();n.selectNodeContents(e),r.removeAllRanges(),r.addRange(n)}},function(t,e){"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=e():"function"==typeof define&&"object"==typeof define.amd?define(e):t.log=e()}(this,function(){function t(t){return typeof console===l?!1:void 0!==console[t]?e(console,t):void 0!==console.log?e(console,"log"):a}function e(t,e){var n=t[e];if("function"==typeof n.bind)return n.bind(t);try{return Function.prototype.bind.call(n,t)}catch(r){return function(){return Function.prototype.apply.apply(n,[t,arguments])}}}function n(t,e){return function(){typeof console!==l&&(r(e),u[t].apply(u,arguments))}}function r(t){for(var e=0;e<s.length;e++){var n=s[e];u[n]=t>e?a:u.methodFactory(n,t)}}function o(t){var e=(s[t]||"silent").toUpperCase();try{return void(window.localStorage.loglevel=e)}catch(n){}try{window.document.cookie="loglevel="+e+";"}catch(n){}}function i(){var t;try{t=window.localStorage.loglevel}catch(e){}if(typeof t===l)try{t=/loglevel=([^;]+)/.exec(window.document.cookie)[1]}catch(e){}void 0===u.levels[t]&&(t="WARN"),u.setLevel(u.levels[t])}var u={},a=function(){},l="undefined",s=["trace","debug","info","warn","error"];u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=function(e,r){return t(e)||n(e,r)},u.setLevel=function(t){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;return o(t),r(t),typeof console===l&&t<u.levels.SILENT?"No console available for logging":void 0},u.enableAll=function(){u.setLevel(u.levels.TRACE)},u.disableAll=function(){u.setLevel(u.levels.SILENT)};var c=typeof window!==l?window.log:void 0;return u.noConflict=function(){
return typeof window!==l&&window.log===u&&(window.log=c),u},i(),u});var apiData=function(){"use strict";var t=function(t){$.ajax({url:"https://atlas.metabroadcast.com/4/meta/resources.json",success:function(n){e(n.resources,t)},error:function(t,e,n){log.error(n)}})},e=function(t,e){$.ajax({url:"../data/local-data.json",success:function(r){n(t,r.resources,e)},error:function(t,e,n){log.error(n)}})},n=function(t,e,n){_.forEach(t,function(t){_.forEach(e,function(e){t.name===e.name&&(t.parameters=e.parameters,t.annotations=e.annotations,t.service_level=e.service_level,t.error_messages=e.error_messages)})}),n(t)};return{init:t}}(),popovers=function(){"use strict";return function(){var t;$(".hov").bind("mouseover",function(){var e=$(this),n=$(this).height();t=setTimeout(function(){0===e.find(".hover").length?e.hasClass("hovDown")?$('.hover[data-title="'+e.attr("data-title")+'"]').clone().css({top:n+5}).appendTo(e).fadeIn("fast"):$('.hover[data-title="'+e.attr("data-title")+'"]').clone().css({bottom:n+5}).appendTo(e).fadeIn("fast"):e.find(".hover").fadeIn("fast")},500),$(".hov").bind("mouseout",function(){clearTimeout(t),e.find(".hover").fadeOut("fast")})})}}(),encodeQueryData=function(){"use strict";return function(t){var e=[];for(var n in t)e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}}(),atlasUser=function(){"use strict";var t=function(){return localStorage.getItem("auth.token")?!0:!1},e=function(){return{oauth_provider:localStorage.getItem("auth.provider"),oauth_token:localStorage.getItem("auth.token")}},n=function(t,e){$.ajax({url:t,success:function(t){e(t)},error:function(t,e,n){log.error(n)}})};return{isLoggedIn:t,getCredentials:e,getUserData:n}}(),loginToAdmin=function(){"use strict";return function(){var t;t="stage"===MBST.ENV||-1!==window.location.href.indexOf("stage")||-1!==window.location.href.indexOf("dev")?"http://stage.atlas.metabroadcast.com/4/auth/providers.json":"https://atlas.metabroadcast.com/4/auth/providers.json",$.ajax({url:t,success:function(t){var e,n,r='<div style="font-size: 16px; text-align: left;" class="mbl">Log in with one of the services below</div>';if(t.auth_providers&&t.auth_providers.length>0)for(e=0,n=t.auth_providers.length;n>e;e+=1)r+='<a href="//atlas.metabroadcast.com/admin#/login/'+t.auth_providers[e].namespace+'" class="signInBtn btn-'+t.auth_providers[e].namespace+'"><span class="fa fa-'+t.auth_providers[e].namespace+'"></span>Sign In with '+t.auth_providers[e].namespace+"</a>";r+="",$(".loginHolder").html(r),$(".loginWrapper").show().click(function(){$(".loginWrapper").hide()})}})}}(),highlightCurrentPage=function(){"use strict";var t=location.hash,e=64,n="active-link",r=function(t){if("/"===t.charAt(0)&&(t=t.substring(1)),"#"===t.charAt(0)&&$(t).length){var e=$(t).offset().top-150,n=$(window);return n.scrollTop()>e&&n.scrollTop()<e+90+$(t).height()&&$(t).is(":visible")?!0:void 0}},o=function(){t&&$(t).length&&$(window).scrollTop($(t).offset().top-e),$("#nav-main a").not(".user-menu a, .api-docs-link, .api-docs-submenu-link a").on("click",function(t){var n=$(this).attr("href");"/"===n.charAt(0)&&(n=n.substring(1)),$(n).length&&(t.preventDefault(),$(window).scrollTop($(n).offset().top-e),history.pushState&&history.pushState(null,null,n))});var o=function(){$("#nav-main > li").not(".user-menu").each(function(){var t=$(this).find("a").attr("href");r(t)?($(this).siblings().removeClass(n),$(this).addClass(n),$(".submenu").is(":visible")||history.pushState&&history.pushState(null,null,t)):$(this).removeClass(n)}),$(".submenu > li").not(".user-menu .submenu").each(function(){var t=$(this).find("a").attr("href");r(t)&&($(this).siblings().removeClass(n),$(this).addClass(n),$(".submenu").is(":visible")&&(history.pushState?history.pushState(null,null,t):$(this).removeClass(n)))}),r("#home")&&history.pushState&&history.pushState(null,null,"#home")};$(document).scroll(_.debounce(o,100))};return{init:o}}(),handleLoggedInStatus=function(){"use strict";var t=function(t){o({templatePath:"../templates/logged-in.ejs",templateContainer:"#navbar-tools"},t),"admin"===t.user.role&&o({templatePath:"../templates/admin-menu.ejs",templateContainer:"#admin-menu"}),s()},e=function(t){return t.applications.sort(function(t,e){return t=new Date(t.created),e=new Date(e.created),t>e?-1:e>t?1:0}),t},n=function(t){t=e(t),o({templatePath:"../templates/apps-menu.ejs",templateContainer:"#apps-menu"},t)},r=function(t){t.length&&o({templatePath:"../templates/content-menu.ejs",templateContainer:"#content-menu"},t)},o=function(t,e){var n,e=e||{};n=new EJS({url:t.templatePath}).render(e),$(t.templateContainer).html(n)},i=function(){var t=new EJS({url:"../templates/user-navigation.ejs"}).render();$("#nav-main").append(t)},u=function(){localStorage.removeItem("auth.provider"),localStorage.removeItem("auth.token"),o({templatePath:"../templates/logged-out.ejs",templateContainer:"#navbar-tools"}),$(".user-menu").each(function(){$(this).empty()})},a=function(t){var e=t.siblings(".dropdown-menu");$(".dropdown-menu").not(e).hide(),$(".submenu").hide(),e.toggle(),$(".has-dropdown-menu").not(t).removeClass("active-link"),t.toggleClass("active-link")},l=function(t,e){$(document).on("click",t,function(t){t.preventDefault(),e($(this))})},s=function(){var t=$(".profile-picture"),e=t.data("src");t.attr("src",e)},c=function(){l(".logout",u),l(".has-dropdown-menu > a",a),$(":not(.dropdown-menu)").on("click",function(t){$(".dropdown-menu").hide()})};return function(){if(atlasUser.isLoggedIn()){var e=atlasUser.getCredentials(),u=encodeQueryData(e);i(),atlasUser.getUserData("https://atlas.metabroadcast.com/4/auth/user.json?"+u,t),atlasUser.getUserData("https://atlas.metabroadcast.com/4/applications.json?"+u,n),atlasUser.getUserData("//atlas-admin-backend.metabroadcast.com/api/user/groups?"+u,r),c()}else o({templatePath:"../templates/logged-out.ejs",templateContainer:"#navbar-tools"})}}(),NowNextLater=function(){"use strict";this.apiKey="84097c4de516445eb7bb58f4b73d2842",this.channelGroupsEndpointURL="//users-atlas.metabroadcast.com/3.0/channel_groups/",this.channelGroupsID="cbgZ",this.channelGroupsAnnotations=["channels"],this.channelIDsLimit=200,this.scheduleEndpointURL="//users3-atlas.metabroadcast.com/3.0/schedule.json?",this.scheduleCount=2,this.scheduleAnnotations=["channel","channel_summary","extended_description","brand_summary","broadcasts"],this.fadeDuration=3e3,this.carouselInterval=!1,this.carouselSpeed=5e3,this.burnGuardTimeout=!1,this.fullscreenInterval=!1,this.loadPanelTimeout=!1,this.loadImageTimeout=!1,this.fullscreenButton=$('<a class="fullscreen-button" href="#"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAQAAAC7KEemAAAA7klEQVR4Ab3UP2oCURgE8GfpFbyAIF5ARKysRZBUGoVAzmHnNp7EU1jZWHoR/xWCz1/AYh8PE3GbzFSzzBS7M98GhauEvYaQqGEv4aoIbnIMssBAjlsAsLOwMFbLAjXjx/MdQApEE+EPTsQ8sHFBNP3VPhVxsUmBQt8Z0ezJPhNx1lekwFLQc0I0z+xzESc9wRKCLYaCoOuIaFTaRyKOug81xDaoa5aGjgPWpV7joFPqpnqQs22lVaqWlXbuCCrwfwMV3qHqV3rq4e7jdQ9503ffr5vOt3T39daWyrXO310rRJ/v3EP1i6t+0xX/Gj9yFgEV5JXFEAAAAABJRU5ErkJggg=="></a>')};NowNextLater.prototype.buildChannelGroupsURL=function(){"use strict";var t=this,e=t.channelGroupsEndpointURL;return e+=t.channelGroupsID+".json?",e+="annotations="+t.channelGroupsAnnotations.join(),e+="&limit="+t.channelGroupsLimit,encodeURI(e)},NowNextLater.prototype.createListOfChannelIDs=function(){"use strict";for(var t=this,e=t.buildChannelGroupsURL(),n=t.getData(e),r=n.channel_groups[0].channels,o=[],i=0,u=t.channelIDsLimit;u>i;i++)o.push(r[i].channel.id);return o},NowNextLater.prototype.buildScheduleURL=function(){"use strict";var t=this,e=t.createListOfChannelIDs(),n=t.scheduleEndpointURL,r=3e5,o=new Date,i=new Date(Math.round(o.getTime()/r)*r);return n+="channel_id="+e.join(),n+="&annotations="+t.scheduleAnnotations.join(),n+="&from="+i.toISOString(),n+="&count="+t.scheduleCount,n+="&apiKey="+t.apiKey,encodeURI(n)},NowNextLater.prototype.getData=function(t){"use strict";var e;return $.ajax({url:t,dataType:"json",async:!1,success:function(t){e=t},error:function(t,e,n){log.error(n)}}),e},NowNextLater.prototype.mergeProgrammeData=function(){"use strict";for(var t=this,e=t.buildScheduleURL(),n=t.getData(e).schedule,r=[],o={},i={},u=0,a=n.length;a>u;u++)n[u].items.length&&(o=n[u].items[0],o.channel=n[u].channel,n[u].items[1]&&(i=n[u].items[1],i.channel=n[u].channel),r.push(o),r.push(i));return r},NowNextLater.prototype.filterOutDuplicates=function(t){"use strict";for(var e=[],n=[],r=0,o=t.length;o>r;r++){var i=t[r].broadcasts[0].transmission_time+t[r].title;i&&-1===n.indexOf(i)&&(e.push(t[r]),n.push(i))}return e},NowNextLater.prototype.filterOutByLength=function(t,e){"use strict";for(var n=60*e,r=[],o=0,i=t.length;i>o;o++)t[o].broadcasts[0].duration>n&&r.push(t[o]);return r},NowNextLater.prototype.filterOutByStartTime=function(t,e,n){"use strict";for(var r=new Date,o=6e4*e,i=[],u=0,a=t.length;a>u;u++){var l=new Date(t[u].broadcasts[0].transmission_time),s=new Date(r-o),c=new Date(r).setMinutes(r.getMinutes()+n),f=new Date(c);l>=s&&f>=l&&i.push(t[u])}return i},NowNextLater.prototype.filterOutGenres=function(t){"use strict";for(var e=[],n=0,r=t.length;r>n;n++){var o=t[n].genres;-1===$.inArray("http://ref.atlasapi.org/atlas/news",o)&&-1===$.inArray("http://www.bbc.co.uk/programmes/genres/news",o)&&-1===$.inArray("http://www.bbc.co.uk/programmes/genres/weather",o)&&-1===$.inArray("http://pressassociation.com/genres/2F02",o)&&-1===$.inArray("http://pressassociation.com/genres/A600",o)&&-1===$.inArray("http://pressassociation.com/genres/audio",o)&&-1===$.inArray("http://pressassociation.com/genres/6000",o)&&-1===$.inArray("http://pressassociation.com/genres/2F06",o)&&e.push(t[n])}return e},NowNextLater.prototype.filterOutNoImages=function(t){"use strict";for(var e=[],n=0,r=t.length;r>n;n++)t[n].image&&e.push(t[n]);return e},NowNextLater.prototype.filterOutChannelIDs=function(t){"use strict";for(var e=[],n=0,r=t.length;r>n;n++)"cbZN"!==t[n].channel.id&&e.push(t[n]);return e},NowNextLater.prototype.formatStartTimes=function(t){"use strict";for(var e=[],n=(new Date).getTime(),r=0,o=t.length;o>r;r++){var i,u,a,l,s=new Date(t[r].broadcasts[0].transmission_time).getTime();n>s?(a=n-s,u=Math.floor(a/1e3),i=Math.floor(u/60),l="Started ",l+=60>u?1===u?u+" second":u+" seconds":1===i?i+" minute":i+" minutes",l+=" ago"):(a=s-n,u=Math.floor(a/1e3),i=Math.floor(u/60),l="Starting in ",l+=60>u?1===u?u+" second":u+" seconds":1===i?i+" minute":i+" minutes"),t[r].start_time_string=l,e.push(t[r])}return e},NowNextLater.prototype.normalizeProgrammeTitles=function(t){"use strict";for(var e=[],n=0,r=t.length;r>n;n++)t[n].container?t[n].programme_title=t[n].container.title:t[n].programme_title=t[n].title,e.push(t[n]);return e},NowNextLater.prototype.runProgrammeFilters=function(){"use strict";var t=this,e=t.mergeProgrammeData();return e=t.filterOutDuplicates(e),e=t.filterOutByLength(e,5),e=t.filterOutByStartTime(e,2,30),e=t.filterOutGenres(e),e=t.filterOutNoImages(e),e=t.filterOutChannelIDs(e),e=t.normalizeChannelLogos(e),e=t.normalizeProgrammeTitles(e),e=t.formatStartTimes(e)},NowNextLater.prototype.normalizeChannelLogos=function(t){"use strict";for(var e=t,n=0,r=e.length;r>n;n++)if(e[n].channel.images)for(var o=0,i=e[n].channel.images.length;i>o;o++){if("dark_transparent"===e[n].channel.images[o].theme){e[n].channel_logo=e[n].channel.images[o].uri;break}e[n].channel_logo=e[n].channel.image}else e[n].channel_logo=e[n].channel.image;return e},NowNextLater.prototype.orderByStartTime=function(){"use strict";var t=this,e=t.runProgrammeFilters();return e.sort(function(t,e){return t=new Date(t.broadcasts[0].transmission_time),e=new Date(e.broadcasts[0].transmission_time),t>e?-1:e>t?1:0}),e},NowNextLater.prototype.groupDataForFullscreenView=function(t){"use strict";for(var e=[],n=9,r=0,o=t.length;o>r;r+=n)e.push(t.slice(r,r+n));return e[e.length-1].length<n&&e.pop(),e},NowNextLater.prototype.compileTemplate=function(t,e){"use strict";var n;n=new EJS({url:e.template}).render(t),e.append?$(e.container).append(n):$(e.container).html(n)},NowNextLater.prototype.preloadCarouselImages=function(t,e){"use strict";var n=$(t),r=n.find(e),o=r.data("src"),i=n.next(".widget-panel"),u=i.find(e),a=u.data("src"),l=i.next(".widget-panel"),s=l.find(e),c=s.data("src");r.attr("src",o),u.attr("src",a),s.attr("src",c)},NowNextLater.prototype.setupCarousel=function(){"use strict";var t=this,e=t.orderByStartTime();t.compileTemplate(e,{template:"../templates/carousel.ejs",container:"#carousel-widget-container"}),$("#carousel-widget-container").hide(),t.preloadCarouselImages(".carousel-slide:first-child",".widget-programme-image"),t.preloadCarouselImages(".carousel-slide:first-child",".widget-channel-logo"),$(".carousel-slide:first-child .widget-programme-image").on("load",function(){$("#carousel-widget-container").fadeIn()}),$(".carousel-slide:gt(0)").hide(),t.fullscreenAvailable&&$("#carousel-widget-container").prepend(t.fullscreenButton)},NowNextLater.prototype.triggerCarousel=function(){"use strict";var t,e,n=this;n.carouselInterval&&clearInterval(n.carouselInterval),n.setupCarousel(),t=0,e=$(".carousel-slide").length,n.carouselInterval=setInterval(function(){n.preloadCarouselImages(".carousel-slide:first-child",".widget-programme-image"),n.preloadCarouselImages(".carousel-slide:first-child",".widget-channel-logo"),$(".carousel-slide:first-child").fadeOut(n.fadeDuration).next(".carousel-slide").fadeIn(n.fadeDuration).end().appendTo(".carousel"),t+=1,t===e&&n.triggerCarousel()},n.carouselSpeed)},NowNextLater.prototype.removeElement=function(t){"use strict";var e=$(t);e.remove()},NowNextLater.prototype.fullscreenAvailable=function(){"use strict";return this.fullScreenEl.requestFullscreen||this.fullScreenEl.mozRequestFullScreen||this.fullScreenEl.webkitRequestFullscreen||this.fullScreenEl.msRequestFullscreen?!0:void 0},NowNextLater.prototype.loadFullscreen=function(){"use strict";var t=this,e=t.orderByStartTime(),n=t.groupDataForFullscreenView(e),r=$(".widget-panel-container .widget-panel-inner");r.each(function(e){t.compileTemplate(n[0][e],{template:"../templates/fullscreen.ejs",container:$(this),append:!0})}),t.loadNewProgramme(n)},NowNextLater.prototype.loadNewProgramme=function(t){"use strict";var e=this,n=$(".widget-panel-container .widget-panel-inner"),r=0,o=1;e.loadPanel(n,r,o,t)},NowNextLater.prototype.loadPanel=function(t,e,n,r){"use strict";var o,i,u=this;n<r.length?e<t.length?u.loadPanelTimeout=setTimeout(function(){u.compileTemplate(r[n][e],{template:"../templates/fullscreen.ejs",container:$(t[e]),append:!0}),o=$(t[e]).find(".widget-panel:last-child"),o.hide(),o.find(".widget-programme-image").on("load",function(){i=!0,o.fadeIn(1e3,function(){$(t[e-1]).find(".widget-panel").length>1&&$(t[e-1]).find(".widget-panel:first-child").remove()})}),u.loadImageTimeout=setTimeout(function(){i||(o.find(".widget-programme-image").attr("src","http://placehold.it/460x259&text=Image+not+available"),o.fadeIn(1500,function(){$(t[e-1]).find(".widget-panel").length>1&&$(t[e-1]).find(".widget-panel:first-child").remove()}))},1400),e++,u.loadPanel(t,e,n,r)},1500):u.loadPanelTimeout=setTimeout(function(){var e=u.orderByStartTime();r=u.groupDataForFullscreenView(e),n++,u.loadPanel(t,0,n,r)}):u.loadPanelTimeout=setTimeout(function(){var e=u.orderByStartTime();r=u.groupDataForFullscreenView(e),u.loadPanel(t,0,0,r)})},NowNextLater.prototype.goFullScreen=function(t){"use strict";t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen(t.ALLOW_KEYBOARD_INPUT):t.msRequestFullscreen&&t.msRequestFullscreen()},NowNextLater.prototype.enterFullscreen=function(){"use strict";var t=this;clearInterval(t.carouselInterval),t.goFullScreen(document.getElementById("fullscreen-widget-container")),t.loadFullscreen(),t.startBurnGuard(),$("#fullscreen-widget-container").show()},NowNextLater.prototype.leaveFullscreen=function(){"use strict";var t=this;clearInterval(t.fullscreenInterval),clearTimeout(t.burnGuardTimeout),clearTimeout(t.loadPanelTimeout),clearTimeout(t.loadImageTimeout),$("#fullscreen-widget-container").hide(),t.triggerCarousel()},NowNextLater.prototype.startBurnGuard=function(){"use strict";var t,e=this,n=["#f00","#0f0","#00f"],r=0,o=3e5,i=1e3,u=$('<div id="burn-guard"></div>');u.css({"background-color":"#f0f",width:"1px",height:$(document).height()+"px",position:"absolute",top:0,left:0,display:"none"}),u.appendTo("body"),r=++r%3,t=n[r],u.css({left:0,"background-color":t}).show().animate({left:$(window).width()+"px"},i,function(){$(this).hide(),e.burnGuardTimeout&&clearTimeout(e.burnGuardTimeout),e.burnGuardTimeout=setTimeout(e.startBurnGuard,o)})},NowNextLater.prototype.init=function(){"use strict";var t=this;t.triggerCarousel(),$(document).on("click",".fullscreen-button",function(e){e.preventDefault(),t.enterFullscreen()}),$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",function(){var e=document.fullscreenEnabled||document.mozFullscreenEnabled||document.webkitIsFullScreen||document.msFullscreenEnabled?!0:!1;e===!1&&t.leaveFullscreen(),document.msFullscreenEnabled&&$(document).on("keyup",function(e){var n=27;e.keyCode===n&&t.leaveFullscreen()})})};var submenus=function(){"use strict";return function(){$(".has-submenu a").not(".user-menu-link").on("click",function(){$(this).siblings(".submenu").addClass("hide-menu")}),$(".has-submenu a").not(".user-menu-link").on("mouseover",function(){$(this).siblings(".submenu").removeClass("hide-menu")}),$(document).on("click",".submenu a",function(){$(this).closest(".submenu").addClass("hide-menu")}),$(document).on("mouseover",".submenu a",function(){$(this).siblings(".submenu").removeClass("hide-menu")}),$(document).on("click",".user-menu-link",function(t){t.preventDefault()})}}();$(function(){$("#about").css("min-height",$(window).height()-100),popovers(),$(document).on("click",".getApiKeyBtn",function(t){t.preventDefault(),loginToAdmin()}),handleLoggedInStatus(),apiData.init(function(t){var e=new EJS({url:"../templates/api-docs-submenu"}).render(t);$("#api-docs-submenu").html(e),$("#api-docs").length&&apiDocs.init(t),$("#apiExplorer").length&&(apiExplorer.init(t),$(".navbar-api-explorer-btn").on("click",function(t){t.preventDefault(),$(window).scrollTop($("#apiExplorer").offset().top-64),history.pushState&&history.pushState(null,null,"#apiExplorer")})),submenus()}),$(document).on("click",".js-select-on-click",function(){$(this).select()}),$(document).on("click",".code-example",function(){$(this).selectText()})}),$(window).load(function(){highlightCurrentPage.init(),$("#api-docs").length&&$("#apiExplorer").length&&uiTabs();var t=new NowNextLater;t.init()});
//# sourceMappingURL=sourcemaps/main-bundle.js.map