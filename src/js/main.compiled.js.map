{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/Collections/ContentCollection.js","src/js/Models/SectionModel.js","src/js/Views/ContentCollectionView.js","src/js/Views/SectionView.js","src/js/config.js","src/js/lib/helpers.js","src/js/lib/init.js","src/js/lib/templates.js","src/js/main.js"],"names":[],"mappings":"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","file":"main.compiled.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import SectionModel from '../Models/SectionModel.js';\n\nexport default Backbone.Collection.extend({\n  model: SectionModel,\n  url: '/data/sections.json',\n  parse: function (response) {\n    return response.sections;\n  }\n});\n","export default Backbone.Model.extend({});\n","import SectionView from '../Views/SectionView.js';\n\nexport default Backbone.View.extend({\n  initialize: function () {\n    this.collection.fetch().then(function () {\n      this.render();\n    }.bind(this));\n  },\n\n  render: function () {\n    this.collection.each(function (section) {\n      var sectionView = new SectionView({\n        el: section.get('containerId'),\n        templateId: section.get('templateId')\n      });\n    });\n  }\n});\n","export default Backbone.View.extend({\n  initialize: function (options) {\n    this.templateId = options.templateId;\n    if ($(options.templateId)) {\n      this.template = Handlebars.compile($(options.templateId).html());\n      this.render();\n    }\n  },\n\n  render: function () {\n    if (this.el) {\n      this.el.innerHTML = this.template();\n    }\n\n    if (this.templateId === '#home-template') {\n      // Initiate now next widget\n      if (window.location.pathname !== '/api-docs/') {\n        var nowNextLater = new NowNextLater();\n        nowNextLater.init();\n\n        $('.row .blog-posts').blogPostCarousel({\n          posts: {\n            listType: 'posts',\n            filters: {\n              categories: '117',\n              order: 'asc',\n              orderby: 'title'\n            }\n          },\n          carousel: {\n            slidesToShow: 4,\n            slidesToScroll: 4,\n            responsive: [\n              {\n                breakpoint: 930,\n                settings: {\n                  slidesToShow: 3,\n                  slidesToScroll: 3\n                }\n              },\n              {\n                breakpoint: 730,\n                settings: {\n                  slidesToShow: 2,\n                  slidesToScroll: 2\n                }\n              },\n              {\n                breakpoint: 530,\n                settings: {\n                  slidesToShow: 1,\n                  slidesToScroll: 1\n                }\n              }\n            ]\n          }\n        });\n      }\n    }\n\n    if (this.templateId === '#widgets-template') {\n      MBST.load({\n        client: 'demo',\n        widgets: [\n          {\n            name: 'epg',\n            version: '1',\n            modules: {\n              common: {\n                useAtlas4: true\n              },\n              grid: {\n                holder: '#GRID',\n                showTimes: true,\n                nav: {\n                  days: 7,\n                  fixed: true,\n                  showDates: true,\n                  showTime: true,\n                  dateFormat: [\"ddd\", \"D\"],\n                  friendlyDayNames: {\n                    today: true,\n                    yesterday: true\n                  }\n                }\n              },\n              \"featured\": {\n                holder: \"#FEATURED\",\n                items: 3,\n                useGrid: false,\n                arrowOverlap: true,\n                showDescription: false\n              }\n            },\n            customStyle: true,\n            customScript: true\n          }\n        ]\n      });\n    }\n  }\n});\n","const ENV = 'dev';\n\nexport {ENV}","var elementListToArray = function (eles) {\n  var arr = [];\n  for(let i = 0, ii = eles.length; i < ii; i += 1) {\n    arr.push(eles[i]);\n  }\n\n  return arr;\n};\n\n// Quick hack to make all feature blocks equal height\nvar equalHeightCols = function () {\n  $('.feature-block').height('auto');\n  if ($(window).width() > 700) {\n    var highestCol = Math.max($('.feature-block-audiences').height(), $('.feature-block-platforms').height(), $('.feature-block-developers').height(), $('.feature-block-compliance').height());\n    $('.feature-block').height(highestCol);\n  } else {\n    $('.feature-block').height('auto');\n  }\n};\n\nvar tabbedDisplay = function (tabSection) {\n  $(tabSection).each(function () {\n    var $tabs = $(tabSection);\n    $(this).find(\".tab-panel\").not(\":first\").hide();\n    $tabs.find(\".tabs-nav li:first-child\").addClass(\"tabs-current\");\n    $tabs.find(\".tabs-nav a\").on(\"click\", function (e) {\n      e.preventDefault();\n      var $this = $(this);\n      var tabTarget = $this.attr(\"href\");\n      $this.parent().addClass(\"tabs-current\").siblings().removeClass(\"tabs-current\");\n      $(tabTarget).show().siblings(\".tab-panel\").hide();\n    });\n  });\n};\n\nvar tooltip = function () {\n  $('.tooltip').each(function (index, tooltip) {\n    var $tooltip = $(tooltip);\n    var tooltipTitle = $tooltip.data('title');\n    var tooltipText = $tooltip.data('text');\n    var $tooltipBody = $('<div class=\"tooltip-body\"></div>');\n    var $tooltipHeading = $('<h4 class=\"tooltip-heading\"></h4>');\n    var $tooltipContent = $('<div class=\"tooltip-content\"></div>');\n\n    $tooltipHeading.text(tooltipTitle);\n    $tooltipContent.text(tooltipText);\n    $tooltipBody\n      .append($tooltipHeading)\n      .append($tooltipContent);\n\n    $tooltip.on('mouseover', function () {\n      $tooltip.append($tooltipBody);\n    }).on('mouseout', function () {\n      $tooltip.find('.tooltip-body').remove();\n    });\n  });\n};\n\nvar dropdowns = function () {\n  $(document).on('click', '.dropdown a', function () {\n    $(this).closest('.dropdown').addClass('hide-dropdown');\n  });\n\n  $(document).on('click', '.has-dropdown', function () {\n    $(this).find('.dropdown').addClass('hide-dropdown');\n  });\n\n  $(document).on('mouseleave', '.has-dropdown', function () {\n    $('.hide-dropdown').removeClass('hide-dropdown');\n  });\n};\n\nvar toggleSelectedNavItem = function () {\n  if ($('.dropdown').find('.selected')) {\n    var $selectedItem = $('.dropdown').find('.selected');\n    $selectedItem.closest('.has-dropdown').addClass('selected');\n  }\n};\n\nexport {elementListToArray, equalHeightCols, tabbedDisplay, tooltip, dropdowns, toggleSelectedNavItem}\n","import {ENV} from '../config.js';\n\nBackbone.View = Backbone.NativeView;\nwindow.test = {};\n\nlog.info('Environment: ' + ENV);\n\nif (ENV === 'dev') {\n  log.enableAll();\n} else if (ENV === 'stage') {\n  log.setLevel('error');\n} else if (ENV === 'prod') {\n  log.disableAll();\n}","import {elementListToArray} from '../lib/helpers.js';\n\nvar importTemplates = function (templates) {\n  templates = elementListToArray(templates);\n  templates.forEach(function (template) {\n    let clone = document.importNode(template, true);\n    document.body.appendChild(clone);\n  });\n};\n\nvar loadTemplates = function () {\n  var templates = document.body.querySelectorAll('link[rel=\"import\"]');\n\n  templates = elementListToArray(templates);\n\n  if (templates) {\n    templates.forEach(function (template) {\n      let templateElements;\n\n      templateElements = template.import.querySelectorAll('script[type=\"text/x-handlebars-template\"]');\n\n      if (templateElements) {\n        importTemplates(templateElements);\n      }\n    });\n  }\n};\n\nexport { loadTemplates }\n","import './lib/init.js';\nimport {loadTemplates} from './lib/templates.js';\nimport ContentCollection from './Collections/ContentCollection.js';\nimport ContentCollectionView from './Views/ContentCollectionView.js';\nimport {tooltip, dropdowns, toggleSelectedNavItem} from './lib/helpers.js';\n\nvar envInfo = {};\n\nif (window.location.hostname !== 'atlas.metabroadcast.com' || window.location.hostname !== 'stage.metabroadcast.com') {\n  envInfo.isDev = true;\n  loadTemplates();\n}\n\n$(window).load(function () {\n  $(function () {\n    var contentCollection = new ContentCollection();\n    var contentCollectionView = new ContentCollectionView({ collection: contentCollection });\n    var headerTemplate = Handlebars.compile($('#header-template').html());\n    var subHeaderTemplate = Handlebars.compile($('#sub-header-template').html());\n    $('#site-header').html(headerTemplate(envInfo));\n    $('#sub-header').html(subHeaderTemplate());\n  });\n\n  var onePageNavOptions = {\n    currentClass: 'selected',\n    changeHash: true,\n    scrollSpeed: 200\n  };\n\n  // This is so external links work on the docs page\n  if ($('.homepage').length) {\n    $('.sub-nav').onePageNav(onePageNavOptions);\n  } else {\n    $('.dropdown').onePageNav(onePageNavOptions);\n  }\n\n  tooltip();\n  dropdowns();\n  handleLoggedInStatus();\n\n  // Makes sure correct nav item is highlighted\n  if (window.location.hash) {\n    var target = window.location.hash;\n    $('.sub-nav').find('a[href=' + target + ']').trigger('click');\n  }\n});\n\n$(window).on('scroll', _.debounce(toggleSelectedNavItem, 250));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvcGhpbC9TaXRlcy9hdGxhc2FwaS5naXRodWIuY29tL3NyYy9qcy9Db2xsZWN0aW9ucy9Db250ZW50Q29sbGVjdGlvbi5qcyIsIi9Vc2Vycy9waGlsL1NpdGVzL2F0bGFzYXBpLmdpdGh1Yi5jb20vc3JjL2pzL01vZGVscy9TZWN0aW9uTW9kZWwuanMiLCIvVXNlcnMvcGhpbC9TaXRlcy9hdGxhc2FwaS5naXRodWIuY29tL3NyYy9qcy9WaWV3cy9Db250ZW50Q29sbGVjdGlvblZpZXcuanMiLCIvVXNlcnMvcGhpbC9TaXRlcy9hdGxhc2FwaS5naXRodWIuY29tL3NyYy9qcy9WaWV3cy9TZWN0aW9uVmlldy5qcyIsIi9Vc2Vycy9waGlsL1NpdGVzL2F0bGFzYXBpLmdpdGh1Yi5jb20vc3JjL2pzL2NvbmZpZy5qcyIsIi9Vc2Vycy9waGlsL1NpdGVzL2F0bGFzYXBpLmdpdGh1Yi5jb20vc3JjL2pzL2xpYi9oZWxwZXJzLmpzIiwiL1VzZXJzL3BoaWwvU2l0ZXMvYXRsYXNhcGkuZ2l0aHViLmNvbS9zcmMvanMvbGliL2luaXQuanMiLCIvVXNlcnMvcGhpbC9TaXRlcy9hdGxhc2FwaS5naXRodWIuY29tL3NyYy9qcy9saWIvdGVtcGxhdGVzLmpzIiwiL1VzZXJzL3BoaWwvU2l0ZXMvYXRsYXNhcGkuZ2l0aHViLmNvbS9zcmMvanMvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O29DQ0F5QiwyQkFBMkI7Ozs7cUJBRXJDLFFBQVEsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDO0FBQ3hDLE9BQUssbUNBQWM7QUFDbkIsS0FBRyxFQUFFLHFCQUFxQjtBQUMxQixPQUFLLEVBQUUsZUFBVSxRQUFRLEVBQUU7QUFDekIsV0FBTyxRQUFRLENBQUMsUUFBUSxDQUFDO0dBQzFCO0NBQ0YsQ0FBQzs7Ozs7Ozs7O3FCQ1JhLFFBQVEsQ0FBQyxLQUFLLENBQUMs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ZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCBTZWN0aW9uTW9kZWwgZnJvbSAnLi4vTW9kZWxzL1NlY3Rpb25Nb2RlbC5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IEJhY2tib25lLkNvbGxlY3Rpb24uZXh0ZW5kKHtcbiAgbW9kZWw6IFNlY3Rpb25Nb2RlbCxcbiAgdXJsOiAnL2RhdGEvc2VjdGlvbnMuanNvbicsXG4gIHBhcnNlOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gcmVzcG9uc2Uuc2VjdGlvbnM7XG4gIH1cbn0pO1xuIiwiZXhwb3J0IGRlZmF1bHQgQmFja2JvbmUuTW9kZWwuZXh0ZW5kKHt9KTtcbiIsImltcG9ydCBTZWN0aW9uVmlldyBmcm9tICcuLi9WaWV3cy9TZWN0aW9uVmlldy5qcyc7XG5cbmV4cG9ydCBkZWZhdWx0IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29sbGVjdGlvbi5mZXRjaCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICB9LmJpbmQodGhpcykpO1xuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuY29sbGVjdGlvbi5lYWNoKGZ1bmN0aW9uIChzZWN0aW9uKSB7XG4gICAgICB2YXIgc2VjdGlvblZpZXcgPSBuZXcgU2VjdGlvblZpZXcoe1xuICAgICAgICBlbDogc2VjdGlvbi5nZXQoJ2NvbnRhaW5lcklkJyksXG4gICAgICAgIHRlbXBsYXRlSWQ6IHNlY3Rpb24uZ2V0KCd0ZW1wbGF0ZUlkJylcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG59KTtcbiIsImV4cG9ydCBkZWZhdWx0IEJhY2tib25lLlZpZXcuZXh0ZW5kKHtcbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICB0aGlzLnRlbXBsYXRlSWQgPSBvcHRpb25zLnRlbXBsYXRlSWQ7XG4gICAgaWYgKCQob3B0aW9ucy50ZW1wbGF0ZUlkKSkge1xuICAgICAgdGhpcy50ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZSgkKG9wdGlvbnMudGVtcGxhdGVJZCkuaHRtbCgpKTtcbiAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgfVxuICB9LFxuXG4gIHJlbmRlcjogZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmVsKSB7XG4gICAgICB0aGlzLmVsLmlubmVySFRNTCA9IHRoaXMudGVtcGxhdGUoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy50ZW1wbGF0ZUlkID09PSAnI2hvbWUtdGVtcGxhdGUnKSB7XG4gICAgICAvLyBJbml0aWF0ZSBub3cgbmV4dCB3aWRnZXRcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09ICcvYXBpLWRvY3MvJykge1xuICAgICAgICB2YXIgbm93TmV4dExhdGVyID0gbmV3IE5vd05leHRMYXRlcigpO1xuICAgICAgICBub3dOZXh0TGF0ZXIuaW5pdCgpO1xuXG4gICAgICAgICQoJy5yb3cgLmJsb2ctcG9zdHMnKS5ibG9nUG9zdENhcm91c2VsKHtcbiAgICAgICAgICBwb3N0czoge1xuICAgICAgICAgICAgbGlzdFR5cGU6ICdwb3N0cycsXG4gICAgICAgICAgICBmaWx0ZXJzOiB7XG4gICAgICAgICAgICAgIGNhdGVnb3JpZXM6ICcxMTcnLFxuICAgICAgICAgICAgICBvcmRlcjogJ2FzYycsXG4gICAgICAgICAgICAgIG9yZGVyYnk6ICd0aXRsZSdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGNhcm91c2VsOiB7XG4gICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDQsXG4gICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogNCxcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDkzMCxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAzLFxuICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBicmVha3BvaW50OiA3MzAsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAyXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNTMwLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudGVtcGxhdGVJZCA9PT0gJyN3aWRnZXRzLXRlbXBsYXRlJykge1xuICAgICAgTUJTVC5sb2FkKHtcbiAgICAgICAgY2xpZW50OiAnZGVtbycsXG4gICAgICAgIHdpZGdldHM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBuYW1lOiAnZXBnJyxcbiAgICAgICAgICAgIHZlcnNpb246ICcxJyxcbiAgICAgICAgICAgIG1vZHVsZXM6IHtcbiAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgdXNlQXRsYXM0OiB0cnVlXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICBob2xkZXI6ICcjR1JJRCcsXG4gICAgICAgICAgICAgICAgc2hvd1RpbWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIG5hdjoge1xuICAgICAgICAgICAgICAgICAgZGF5czogNyxcbiAgICAgICAgICAgICAgICAgIGZpeGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2hvd0RhdGVzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgc2hvd1RpbWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICBkYXRlRm9ybWF0OiBbXCJkZGRcIiwgXCJEXCJdLFxuICAgICAgICAgICAgICAgICAgZnJpZW5kbHlEYXlOYW1lczoge1xuICAgICAgICAgICAgICAgICAgICB0b2RheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgeWVzdGVyZGF5OiB0cnVlXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImZlYXR1cmVkXCI6IHtcbiAgICAgICAgICAgICAgICBob2xkZXI6IFwiI0ZFQVRVUkVEXCIsXG4gICAgICAgICAgICAgICAgaXRlbXM6IDMsXG4gICAgICAgICAgICAgICAgdXNlR3JpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXJyb3dPdmVybGFwOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dEZXNjcmlwdGlvbjogZmFsc2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN1c3RvbVN0eWxlOiB0cnVlLFxuICAgICAgICAgICAgY3VzdG9tU2NyaXB0OiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiY29uc3QgRU5WID0gJ2Rldic7XG5cbmV4cG9ydCB7RU5WfSIsInZhciBlbGVtZW50TGlzdFRvQXJyYXkgPSBmdW5jdGlvbiAoZWxlcykge1xuICB2YXIgYXJyID0gW107XG4gIGZvcihsZXQgaSA9IDAsIGlpID0gZWxlcy5sZW5ndGg7IGkgPCBpaTsgaSArPSAxKSB7XG4gICAgYXJyLnB1c2goZWxlc1tpXSk7XG4gIH1cblxuICByZXR1cm4gYXJyO1xufTtcblxuLy8gUXVpY2sgaGFjayB0byBtYWtlIGFsbCBmZWF0dXJlIGJsb2NrcyBlcXVhbCBoZWlnaHRcbnZhciBlcXVhbEhlaWdodENvbHMgPSBmdW5jdGlvbiAoKSB7XG4gICQoJy5mZWF0dXJlLWJsb2NrJykuaGVpZ2h0KCdhdXRvJyk7XG4gIGlmICgkKHdpbmRvdykud2lkdGgoKSA+IDcwMCkge1xuICAgIHZhciBoaWdoZXN0Q29sID0gTWF0aC5tYXgoJCgnLmZlYXR1cmUtYmxvY2stYXVkaWVuY2VzJykuaGVpZ2h0KCksICQoJy5mZWF0dXJlLWJsb2NrLXBsYXRmb3JtcycpLmhlaWdodCgpLCAkKCcuZmVhdHVyZS1ibG9jay1kZXZlbG9wZXJzJykuaGVpZ2h0KCksICQoJy5mZWF0dXJlLWJsb2NrLWNvbXBsaWFuY2UnKS5oZWlnaHQoKSk7XG4gICAgJCgnLmZlYXR1cmUtYmxvY2snKS5oZWlnaHQoaGlnaGVzdENvbCk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmZlYXR1cmUtYmxvY2snKS5oZWlnaHQoJ2F1dG8nKTtcbiAgfVxufTtcblxudmFyIHRhYmJlZERpc3BsYXkgPSBmdW5jdGlvbiAodGFiU2VjdGlvbikge1xuICAkKHRhYlNlY3Rpb24pLmVhY2goZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGFicyA9ICQodGFiU2VjdGlvbik7XG4gICAgJCh0aGlzKS5maW5kKFwiLnRhYi1wYW5lbFwiKS5ub3QoXCI6Zmlyc3RcIikuaGlkZSgpO1xuICAgICR0YWJzLmZpbmQoXCIudGFicy1uYXYgbGk6Zmlyc3QtY2hpbGRcIikuYWRkQ2xhc3MoXCJ0YWJzLWN1cnJlbnRcIik7XG4gICAgJHRhYnMuZmluZChcIi50YWJzLW5hdiBhXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgdGFiVGFyZ2V0ID0gJHRoaXMuYXR0cihcImhyZWZcIik7XG4gICAgICAkdGhpcy5wYXJlbnQoKS5hZGRDbGFzcyhcInRhYnMtY3VycmVudFwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwidGFicy1jdXJyZW50XCIpO1xuICAgICAgJCh0YWJUYXJnZXQpLnNob3coKS5zaWJsaW5ncyhcIi50YWItcGFuZWxcIikuaGlkZSgpO1xuICAgIH0pO1xuICB9KTtcbn07XG5cbnZhciB0b29sdGlwID0gZnVuY3Rpb24gKCkge1xuICAkKCcudG9vbHRpcCcpLmVhY2goZnVuY3Rpb24gKGluZGV4LCB0b29sdGlwKSB7XG4gICAgdmFyICR0b29sdGlwID0gJCh0b29sdGlwKTtcbiAgICB2YXIgdG9vbHRpcFRpdGxlID0gJHRvb2x0aXAuZGF0YSgndGl0bGUnKTtcbiAgICB2YXIgdG9vbHRpcFRleHQgPSAkdG9vbHRpcC5kYXRhKCd0ZXh0Jyk7XG4gICAgdmFyICR0b29sdGlwQm9keSA9ICQoJzxkaXYgY2xhc3M9XCJ0b29sdGlwLWJvZHlcIj48L2Rpdj4nKTtcbiAgICB2YXIgJHRvb2x0aXBIZWFkaW5nID0gJCgnPGg0IGNsYXNzPVwidG9vbHRpcC1oZWFkaW5nXCI+PC9oND4nKTtcbiAgICB2YXIgJHRvb2x0aXBDb250ZW50ID0gJCgnPGRpdiBjbGFzcz1cInRvb2x0aXAtY29udGVudFwiPjwvZGl2PicpO1xuXG4gICAgJHRvb2x0aXBIZWFkaW5nLnRleHQodG9vbHRpcFRpdGxlKTtcbiAgICAkdG9vbHRpcENvbnRlbnQudGV4dCh0b29sdGlwVGV4dCk7XG4gICAgJHRvb2x0aXBCb2R5XG4gICAgICAuYXBwZW5kKCR0b29sdGlwSGVhZGluZylcbiAgICAgIC5hcHBlbmQoJHRvb2x0aXBDb250ZW50KTtcblxuICAgICR0b29sdGlwLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkdG9vbHRpcC5hcHBlbmQoJHRvb2x0aXBCb2R5KTtcbiAgICB9KS5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkdG9vbHRpcC5maW5kKCcudG9vbHRpcC1ib2R5JykucmVtb3ZlKCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxudmFyIGRyb3Bkb3ducyA9IGZ1bmN0aW9uICgpIHtcbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kcm9wZG93biBhJywgZnVuY3Rpb24gKCkge1xuICAgICQodGhpcykuY2xvc2VzdCgnLmRyb3Bkb3duJykuYWRkQ2xhc3MoJ2hpZGUtZHJvcGRvd24nKTtcbiAgfSk7XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5oYXMtZHJvcGRvd24nLCBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzKS5maW5kKCcuZHJvcGRvd24nKS5hZGRDbGFzcygnaGlkZS1kcm9wZG93bicpO1xuICB9KTtcblxuICAkKGRvY3VtZW50KS5vbignbW91c2VsZWF2ZScsICcuaGFzLWRyb3Bkb3duJywgZnVuY3Rpb24gKCkge1xuICAgICQoJy5oaWRlLWRyb3Bkb3duJykucmVtb3ZlQ2xhc3MoJ2hpZGUtZHJvcGRvd24nKTtcbiAgfSk7XG59O1xuXG52YXIgdG9nZ2xlU2VsZWN0ZWROYXZJdGVtID0gZnVuY3Rpb24gKCkge1xuICBpZiAoJCgnLmRyb3Bkb3duJykuZmluZCgnLnNlbGVjdGVkJykpIHtcbiAgICB2YXIgJHNlbGVjdGVkSXRlbSA9ICQoJy5kcm9wZG93bicpLmZpbmQoJy5zZWxlY3RlZCcpO1xuICAgICRzZWxlY3RlZEl0ZW0uY2xvc2VzdCgnLmhhcy1kcm9wZG93bicpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuICB9XG59O1xuXG5leHBvcnQge2VsZW1lbnRMaXN0VG9BcnJheSwgZXF1YWxIZWlnaHRDb2xzLCB0YWJiZWREaXNwbGF5LCB0b29sdGlwLCBkcm9wZG93bnMsIHRvZ2dsZVNlbGVjdGVkTmF2SXRlbX1cbiIsImltcG9ydCB7RU5WfSBmcm9tICcuLi9jb25maWcuanMnO1xuXG5CYWNrYm9uZS5WaWV3ID0gQmFja2JvbmUuTmF0aXZlVmlldztcbndpbmRvdy50ZXN0ID0ge307XG5cbmxvZy5pbmZvKCdFbnZpcm9ubWVudDogJyArIEVOVik7XG5cbmlmIChFTlYgPT09ICdkZXYnKSB7XG4gIGxvZy5lbmFibGVBbGwoKTtcbn0gZWxzZSBpZiAoRU5WID09PSAnc3RhZ2UnKSB7XG4gIGxvZy5zZXRMZXZlbCgnZXJyb3InKTtcbn0gZWxzZSBpZiAoRU5WID09PSAncHJvZCcpIHtcbiAgbG9nLmRpc2FibGVBbGwoKTtcbn0iLCJpbXBvcnQge2VsZW1lbnRMaXN0VG9BcnJheX0gZnJvbSAnLi4vbGliL2hlbHBlcnMuanMnO1xuXG52YXIgaW1wb3J0VGVtcGxhdGVzID0gZnVuY3Rpb24gKHRlbXBsYXRlcykge1xuICB0ZW1wbGF0ZXMgPSBlbGVtZW50TGlzdFRvQXJyYXkodGVtcGxhdGVzKTtcbiAgdGVtcGxhdGVzLmZvckVhY2goZnVuY3Rpb24gKHRlbXBsYXRlKSB7XG4gICAgbGV0IGNsb25lID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0ZW1wbGF0ZSwgdHJ1ZSk7XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjbG9uZSk7XG4gIH0pO1xufTtcblxudmFyIGxvYWRUZW1wbGF0ZXMgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciB0ZW1wbGF0ZXMgPSBkb2N1bWVudC5ib2R5LnF1ZXJ5U2VsZWN0b3JBbGwoJ2xpbmtbcmVsPVwiaW1wb3J0XCJdJyk7XG5cbiAgdGVtcGxhdGVzID0gZWxlbWVudExpc3RUb0FycmF5KHRlbXBsYXRlcyk7XG5cbiAgaWYgKHRlbXBsYXRlcykge1xuICAgIHRlbXBsYXRlcy5mb3JFYWNoKGZ1bmN0aW9uICh0ZW1wbGF0ZSkge1xuICAgICAgbGV0IHRlbXBsYXRlRWxlbWVudHM7XG5cbiAgICAgIHRlbXBsYXRlRWxlbWVudHMgPSB0ZW1wbGF0ZS5pbXBvcnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0W3R5cGU9XCJ0ZXh0L3gtaGFuZGxlYmFycy10ZW1wbGF0ZVwiXScpO1xuXG4gICAgICBpZiAodGVtcGxhdGVFbGVtZW50cykge1xuICAgICAgICBpbXBvcnRUZW1wbGF0ZXModGVtcGxhdGVFbGVtZW50cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbmV4cG9ydCB7IGxvYWRUZW1wbGF0ZXMgfVxuIiwiaW1wb3J0ICcuL2xpYi9pbml0LmpzJztcbmltcG9ydCB7bG9hZFRlbXBsYXRlc30gZnJvbSAnLi9saWIvdGVtcGxhdGVzLmpzJztcbmltcG9ydCBDb250ZW50Q29sbGVjdGlvbiBmcm9tICcuL0NvbGxlY3Rpb25zL0NvbnRlbnRDb2xsZWN0aW9uLmpzJztcbmltcG9ydCBDb250ZW50Q29sbGVjdGlvblZpZXcgZnJvbSAnLi9WaWV3cy9Db250ZW50Q29sbGVjdGlvblZpZXcuanMnO1xuaW1wb3J0IHt0b29sdGlwLCBkcm9wZG93bnMsIHRvZ2dsZVNlbGVjdGVkTmF2SXRlbX0gZnJvbSAnLi9saWIvaGVscGVycy5qcyc7XG5cbnZhciBlbnZJbmZvID0ge307XG5cbmlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgIT09ICdhdGxhcy5tZXRhYnJvYWRjYXN0LmNvbScgfHwgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICE9PSAnc3RhZ2UubWV0YWJyb2FkY2FzdC5jb20nKSB7XG4gIGVudkluZm8uaXNEZXYgPSB0cnVlO1xuICBsb2FkVGVtcGxhdGVzKCk7XG59XG5cbiQod2luZG93KS5sb2FkKGZ1bmN0aW9uICgpIHtcbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNvbnRlbnRDb2xsZWN0aW9uID0gbmV3IENvbnRlbnRDb2xsZWN0aW9uKCk7XG4gICAgdmFyIGNvbnRlbnRDb2xsZWN0aW9uVmlldyA9IG5ldyBDb250ZW50Q29sbGVjdGlvblZpZXcoeyBjb2xsZWN0aW9uOiBjb250ZW50Q29sbGVjdGlvbiB9KTtcbiAgICB2YXIgaGVhZGVyVGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoJCgnI2hlYWRlci10ZW1wbGF0ZScpLmh0bWwoKSk7XG4gICAgdmFyIHN1YkhlYWRlclRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKCQoJyNzdWItaGVhZGVyLXRlbXBsYXRlJykuaHRtbCgpKTtcbiAgICAkKCcjc2l0ZS1oZWFkZXInKS5odG1sKGhlYWRlclRlbXBsYXRlKGVudkluZm8pKTtcbiAgICAkKCcjc3ViLWhlYWRlcicpLmh0bWwoc3ViSGVhZGVyVGVtcGxhdGUoKSk7XG4gIH0pO1xuXG4gIHZhciBvbmVQYWdlTmF2T3B0aW9ucyA9IHtcbiAgICBjdXJyZW50Q2xhc3M6ICdzZWxlY3RlZCcsXG4gICAgY2hhbmdlSGFzaDogdHJ1ZSxcbiAgICBzY3JvbGxTcGVlZDogMjAwXG4gIH07XG5cbiAgLy8gVGhpcyBpcyBzbyBleHRlcm5hbCBsaW5rcyB3b3JrIG9uIHRoZSBkb2NzIHBhZ2VcbiAgaWYgKCQoJy5ob21lcGFnZScpLmxlbmd0aCkge1xuICAgICQoJy5zdWItbmF2Jykub25lUGFnZU5hdihvbmVQYWdlTmF2T3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmRyb3Bkb3duJykub25lUGFnZU5hdihvbmVQYWdlTmF2T3B0aW9ucyk7XG4gIH1cblxuICB0b29sdGlwKCk7XG4gIGRyb3Bkb3ducygpO1xuICBoYW5kbGVMb2dnZWRJblN0YXR1cygpO1xuXG4gIC8vIE1ha2VzIHN1cmUgY29ycmVjdCBuYXYgaXRlbSBpcyBoaWdobGlnaHRlZFxuICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2gpIHtcbiAgICB2YXIgdGFyZ2V0ID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG4gICAgJCgnLnN1Yi1uYXYnKS5maW5kKCdhW2hyZWY9JyArIHRhcmdldCArICddJykudHJpZ2dlcignY2xpY2snKTtcbiAgfVxufSk7XG5cbiQod2luZG93KS5vbignc2Nyb2xsJywgXy5kZWJvdW5jZSh0b2dnbGVTZWxlY3RlZE5hdkl0ZW0sIDI1MCkpO1xuIl19"}